"use strict";(self.webpackChunksalat_e_mustaqeem_client=self.webpackChunksalat_e_mustaqeem_client||[]).push([[193],{4193:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var i=a(5043),l=a(6240),r=a(2703),o=a(5865),n=a(2807),s=a(579);const h=t=>{let{prayerTime:e,remaining:a,progress:h,prayerName:c,cityName:d,islamicDate:f,isCompact:g=!1,isNearPrayer:p=!1,clockSize:m=280}=t;const y=(0,l.A)(),M=(0,i.useRef)(null),[P,b]=(0,i.useState)(new Date),[S,u]=(0,i.useState)(0),k=(0,i.useRef)(null),x=(0,i.useRef)([]),I=g?20:40;(0,i.useEffect)((()=>{const t=setTimeout((()=>{u(1)}),100),e=setInterval((()=>{b(new Date)}),1e3),a=M.current;if(a){a.width,a.height;const t=.2*m,e=1.65*t;x.current=Array(I).fill().map((()=>({angle:Math.random()*Math.PI*2,distance:e*(.95+.15*Math.random()),speed:.003*(.7+.6*Math.random()),size:t*(.05+.04*Math.random()),color:Math.random()>.5?"#ffffff":"#f0f0f0"})))}return()=>{clearTimeout(t),clearInterval(e),k.current&&cancelAnimationFrame(k.current)}}),[m,g]),(0,i.useEffect)((()=>{const t=M.current;if(!t)return;const e=t.getContext("2d"),a=window.devicePixelRatio||1,i=m;t.width=i*a,t.height=i*a,e.scale(a,a),t.style.width=`${i}px`,t.style.height=`${i}px`;const l=i/2,r=i/2,o=.2*i,n=1.65*o,s=.12*o,c=i/2-.05*i,d=Array(8).fill().map(((t,e)=>e/8*Math.PI*2)),f=()=>{e.clearRect(0,0,t.width,t.height),e.beginPath(),e.arc(l,r,c,0,2*Math.PI);const a=e.createRadialGradient(l,r,0,l,r,c);a.addColorStop(0,"#f8f7f2"),a.addColorStop(1,"#f0efe9"),e.fillStyle=a,e.fill(),e.strokeStyle=y.palette.divider,e.lineWidth=.005*i,e.stroke(),e.save(),d.forEach((t=>{const a=3*o;e.beginPath(),e.moveTo(l,r);const i=l+Math.cos(t)*a,n=r+Math.sin(t)*a,s=e.createLinearGradient(l,r,i,n);s.addColorStop(0,"rgba(212, 175, 55, 0.4)"),s.addColorStop(1,"rgba(212, 175, 55, 0)"),e.lineTo(i,n),e.lineWidth=.1*o,e.strokeStyle=s,e.stroke()})),e.restore();for(let t=1;t<=12;t++){const a=t*Math.PI/6-Math.PI/2,o=.85*c,n=l+o*Math.cos(a),s=r+o*Math.sin(a);e.fillStyle=y.palette.text.primary,e.font=`bold ${.04*i}px Arial`,e.textAlign="center",e.textBaseline="middle",e.fillText(t.toString(),n,s)}for(let t=0;t<60;t++)if(t%5!==0){const a=t*Math.PI/30-Math.PI/2,o=.9*c,n=.95*c;e.beginPath(),e.moveTo(l+o*Math.cos(a),r+o*Math.sin(a)),e.lineTo(l+n*Math.cos(a),r+n*Math.sin(a)),e.strokeStyle=y.palette.text.secondary,e.lineWidth=.002*i,e.stroke()}e.beginPath(),e.arc(l,r,n,0,2*Math.PI),e.lineWidth=1,e.strokeStyle="rgba(150, 150, 150, 0.2)",e.stroke();const p=l+.6*n,m=r;e.beginPath(),e.arc(p,m+.1*s,.85*s,0,2*Math.PI),e.fillStyle="rgba(0, 0, 0, 0.2)",e.fill(),e.beginPath(),e.arc(p,m,s,0,2*Math.PI),e.fillStyle="#d4d0c8",e.fill(),e.strokeStyle="#a9a9a9",e.lineWidth=1,e.stroke(),e.beginPath(),e.arc(p,m,.7*s,0,2*Math.PI),e.fillStyle="#e8e4dc",e.fill(),e.beginPath(),e.ellipse(p-.25*s,m,.2*s,.1*s,0,0,2*Math.PI),e.ellipse(p+.25*s,m,.2*s,.1*s,0,0,2*Math.PI),e.fillStyle="rgba(100, 100, 100, 0.3)",e.fill(),x.current.forEach((t=>{t.angle-=t.speed;const a=l+Math.cos(t.angle)*t.distance,i=r+Math.sin(t.angle)*t.distance;e.beginPath(),e.ellipse(a,i+.2*t.size,.8*t.size,.3*t.size,0,0,2*Math.PI),e.fillStyle="rgba(0, 0, 0, 0.15)",e.fill(),e.beginPath(),e.arc(a,i,t.size,0,2*Math.PI),e.fillStyle=t.color,e.fill(),e.strokeStyle="#d0d0d0",e.lineWidth=.5,e.stroke()})),e.fillStyle="#000000",e.beginPath(),e.rect(l-o/2,r-o/2,o,o),e.fill(),e.strokeStyle="rgba(100, 100, 100, 0.4)",e.lineWidth=.5;for(let t=1;t<10;t++){const a=r-o/2+o/10*t;e.beginPath(),e.moveTo(l-o/2,a),e.lineTo(l+o/2,a),e.stroke();const i=l-o/2+o/10*t;e.beginPath(),e.moveTo(i,r-o/2),e.lineTo(i,r+o/2),e.stroke()}const M=.15*o;e.fillStyle="#d4af37",e.beginPath(),e.rect(l-o/2,r-o/2+o/3,o,M),e.fill(),e.strokeStyle="#444444",e.lineWidth=1,e.strokeRect(l-o/2,r-o/2,o,o);const b=.3*o,S=.4*o,u=l+.05*o,I=r-.05*o;e.fillStyle="#d4af37",e.beginPath(),e.rect(u-b/2,I-S/2,b,S),e.fill(),e.strokeStyle="#8b7500",e.lineWidth=1,e.strokeRect(u-b/2,I-S/2,b,S),e.fillStyle="#8b7500",e.beginPath(),e.rect(u-b/2+.15*b,I-S/2+.15*S,.7*b,.7*S),e.fill();const T=.08*o,C=l-o/2,W=r-.1*o;e.beginPath(),e.arc(C,W,T,0,2*Math.PI),e.fillStyle="#333333",e.fill(),e.strokeStyle="#d4af37",e.lineWidth=2,e.stroke(),e.beginPath(),e.arc(C,W,1.3*T,0,2*Math.PI);const v=e.createRadialGradient(C,W,T,C,W,1.3*T);v.addColorStop(0,"rgba(212, 175, 55, 0.5)"),v.addColorStop(1,"rgba(212, 175, 55, 0)"),e.fillStyle=v,e.fill();const w=P.getHours()%12,A=P.getMinutes(),$=P.getSeconds(),R=(w+A/60)*Math.PI/6-Math.PI/2,z=.5*c;e.beginPath(),e.moveTo(l,r),e.lineTo(l+z*Math.cos(R),r+z*Math.sin(R)),e.strokeStyle=y.palette.primary.main,e.lineWidth=.02*i,e.lineCap="round",e.stroke();const j=A*Math.PI/30-Math.PI/2,_=.7*c;e.beginPath(),e.moveTo(l,r),e.lineTo(l+_*Math.cos(j),r+_*Math.sin(j)),e.strokeStyle=y.palette.secondary.main,e.lineWidth=.01*i,e.lineCap="round",e.stroke();const G=$*Math.PI/30-Math.PI/2,H=.8*c;if(e.beginPath(),e.moveTo(l,r),e.lineTo(l+H*Math.cos(G),r+H*Math.sin(G)),e.strokeStyle=`${y.palette.error.main}66`,e.lineWidth=.008*i,e.lineCap="round",e.shadowColor=y.palette.error.main,e.shadowBlur=.01*i,e.stroke(),e.shadowBlur=0,e.beginPath(),e.moveTo(l,r),e.lineTo(l+H*Math.cos(G),r+H*Math.sin(G)),e.strokeStyle=y.palette.error.main,e.lineWidth=.004*i,e.lineCap="round",e.stroke(),e.beginPath(),e.arc(l,r,.02*i,0,2*Math.PI),e.fillStyle=y.palette.secondary.main,e.fill(),e.beginPath(),e.arc(l,r,.01*i,0,2*Math.PI),e.fillStyle=y.palette.primary.main,e.fill(),!g&&void 0!==h){const t=c+.025*i;e.beginPath(),e.arc(l,r,t,0,2*Math.PI),e.strokeStyle=`${y.palette.divider}80`,e.lineWidth=.02*i,e.stroke(),e.beginPath(),e.arc(l,r,t,-Math.PI/2,-Math.PI/2+2*Math.PI*h,!1);const a=e.createLinearGradient(l-t,r,l+t,r);a.addColorStop(0,y.palette.secondary.light),a.addColorStop(1,y.palette.secondary.main),e.strokeStyle=a,e.lineWidth=.02*i,e.lineCap="round",e.stroke()}k.current=requestAnimationFrame(f)};return f(),()=>{k.current&&cancelAnimationFrame(k.current)}}),[m,P,g,h,y]);return(0,s.jsxs)(r.A,{sx:{position:"relative",width:m,height:m,opacity:S,transition:"opacity 0.5s ease",margin:"0 auto"},children:[(0,s.jsx)("canvas",{ref:M,style:{display:"block"},width:m,height:m}),(0,s.jsxs)(r.A,{sx:{position:"absolute",bottom:.12*m,left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(255, 255, 255, 0.8)",padding:`${.02*m}px ${.04*m}px`,borderRadius:.02*m,boxShadow:"0 2px 8px rgba(0,0,0,0.15)",textAlign:"center",width:"auto",minWidth:.5*m},children:[c&&(0,s.jsx)(o.A,{sx:{fontSize:.06*m,fontWeight:600,color:y.palette.primary.main,mb:.5,lineHeight:1},children:c}),(0,s.jsx)(o.A,{sx:{fontSize:.05*m,fontWeight:500,fontFamily:"monospace",color:p?y.palette.secondary.dark:y.palette.text.primary,lineHeight:1.2},children:a?(()=>{if(!a)return"";return`${Math.floor(a/36e5)}h ${Math.floor(a%36e5/6e4)}m ${Math.floor(a%6e4/1e3)}s`})():(0,n.MG)(P.toTimeString().substring(0,5))})]}),!g&&(f||d)&&(0,s.jsxs)(r.A,{sx:{position:"absolute",top:.08*m,left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(255, 255, 255, 0.8)",padding:`${.01*m}px ${.02*m}px`,borderRadius:.01*m,boxShadow:"0 1px 4px rgba(0,0,0,0.1)",textAlign:"center"},children:[d&&(0,s.jsx)(o.A,{sx:{fontSize:.04*m,fontWeight:500,color:y.palette.text.primary,lineHeight:1.2},children:d}),f&&(0,s.jsx)(o.A,{sx:{fontSize:.035*m,fontStyle:"italic",color:y.palette.text.secondary,lineHeight:1.2},children:f})]})]})}}}]);
//# sourceMappingURL=193.4cd01b2d.chunk.js.map