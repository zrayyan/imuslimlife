"use strict";(self.webpackChunksalat_e_mustaqeem_client=self.webpackChunksalat_e_mustaqeem_client||[]).push([[878],{6878:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var l=a(5043),i=a(8403),s=a(2110),n=a(1245),o=a(2703),r=a(5865),d=a(3193),c=a(8356),x=a(9285),h=a(2143),p=a(1637),u=a(5396),f=a(2308),y=a(579);const m=[{name:"China",code:"CN",x:1200,y:350,capital:"Beijing",lat:39.9042,lng:116.4074},{name:"India",code:"IN",x:1100,y:400,capital:"New Delhi",lat:28.6139,lng:77.209},{name:"United States",code:"US",x:180,y:220,capital:"Washington, D.C.",lat:38.89511,lng:-77.03637},{name:"Indonesia",code:"ID",x:1350,y:600,capital:"Jakarta",lat:-6.2088,lng:106.8456},{name:"Pakistan",code:"PK",x:1050,y:350,capital:"Islamabad",lat:33.6844,lng:73.0479},{name:"Nigeria",code:"NG",x:850,y:600,capital:"Abuja",lat:9.0579,lng:7.4951},{name:"Russia",code:"RU",x:1300,y:200,capital:"Moscow",lat:55.7558,lng:37.6173},{name:"United Kingdom",code:"GB",x:700,y:250,capital:"London",lat:51.5074,lng:-.1278},{name:"Italy",code:"IT",x:850,y:350,capital:"Rome",lat:41.9028,lng:12.4964},{name:"South Africa",code:"ZA",x:1e3,y:900,capital:"Pretoria",lat:-25.7479,lng:28.2293},{name:"Colombia",code:"CO",x:400,y:600,capital:"Bogot\xe1",lat:4.711,lng:-74.0721},{name:"Argentina",code:"AR",x:600,y:1e3,capital:"Buenos Aires",lat:-34.6037,lng:-58.3816},{name:"Morocco",code:"MA",x:600,y:500,capital:"Rabat",lat:34.0209,lng:-6.8416},{name:"Saudi Arabia",code:"SA",x:1100,y:500,capital:"Riyadh",lat:24.7136,lng:46.6753},{name:"Australia",code:"AU",x:1800,y:1100,capital:"Canberra",lat:-35.2809,lng:149.13}],g={fill:"#14532d",stroke:"#fff",strokeWidth:2.5,filter:"drop-shadow(0 1px 2px #bfa13a33)"};function b(e){let{width:t=1e3,height:a=500}=e;const[b,j]=(0,l.useState)(null),[v,A]=(0,l.useState)(null),[w,S]=(0,l.useState)(!1),[C,I]=(0,l.useState)(null),[k,M]=(0,l.useState)("2"),[B,W]=(0,l.useState)("0"),[E,O]=(0,l.useState)(.2*t),[$,G]=(0,l.useState)(!1),R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;const[t,a]=(0,l.useState)("undefined"!==typeof window&&window.innerWidth<e);return(0,l.useEffect)((()=>{const t=()=>a(window.innerWidth<e);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[e]),t}();(0,l.useEffect)((()=>{let e;const a=()=>{O((e=>{let a=e+.5;return a>.8*t&&(a=.2*t),a})),e=requestAnimationFrame(a)};return e=requestAnimationFrame(a),()=>cancelAnimationFrame(e)}),[t]),(0,l.useEffect)((()=>{if($){const e=setTimeout((()=>G(!1)),700);return()=>clearTimeout(e)}}),[$]);const z=async(e,t,a)=>{S(!0);try{const l={latitude:e.lat,longitude:e.lng,method:t,school:a},i=await u.A.getTimingsByCoordinates(l);i&&i.data&&i.data.timings?(A(i.data.timings),G(!0)):A({error:"Prayer times not available."})}catch(l){A({error:"Failed to fetch prayer times."})}S(!1)},U=R?2:3,F=R?90:128,N=R?24:32,P=R?18:28,_=R?13:20;return(0,y.jsx)(s.A,{elevation:8,sx:{borderRadius:6,overflow:"visible",background:"linear-gradient(135deg, #1976d2 0%, #26c6da 100%)",p:2,boxShadow:"0 8px 32px #0002"},children:(0,y.jsxs)("div",{style:{width:"100%",maxWidth:t,margin:"0 auto",position:"relative",height:a},children:[(0,y.jsxs)("svg",{width:"100%",height:a,viewBox:`0 0 ${t} ${a}`,style:{position:"absolute",left:0,top:0,zIndex:0},children:[(0,y.jsxs)("defs",{children:[(0,y.jsxs)("radialGradient",{id:"earthGradient",cx:"50%",cy:"50%",r:"80%",children:[(0,y.jsx)("stop",{offset:"0%",stopColor:"#e0f7fa"}),(0,y.jsx)("stop",{offset:"60%",stopColor:"#4dd0e1"}),(0,y.jsx)("stop",{offset:"100%",stopColor:"#01579b"})]}),(0,y.jsxs)("radialGradient",{id:"sunlight",cx:"0.5",cy:"0.5",r:"0.7",children:[(0,y.jsx)("stop",{offset:"0%",stopColor:"#fffde4",stopOpacity:"0.7"}),(0,y.jsx)("stop",{offset:"60%",stopColor:"#fffde4",stopOpacity:"0.2"}),(0,y.jsx)("stop",{offset:"100%",stopColor:"#fffde4",stopOpacity:"0"})]}),(0,y.jsxs)("radialGradient",{id:"movingSun",cx:"0.5",cy:"0.5",r:"0.5",children:[(0,y.jsx)("stop",{offset:"0%",stopColor:"#fffde4",stopOpacity:"0.7"}),(0,y.jsx)("stop",{offset:"60%",stopColor:"#ffe082",stopOpacity:"0.25"}),(0,y.jsx)("stop",{offset:"90%",stopColor:"#000",stopOpacity:"0.25"}),(0,y.jsx)("stop",{offset:"100%",stopColor:"#000",stopOpacity:"0.35"})]})]}),(0,y.jsx)("ellipse",{cx:t/2,cy:a/2,rx:Math.min(t,a)/2,ry:Math.min(t,a)/2,fill:"url(#earthGradient)",style:{filter:"blur(2px)",opacity:.95}}),(0,y.jsx)("ellipse",{cx:t/2,cy:a/2,rx:Math.min(t,a)/2,ry:Math.min(t,a)/2,fill:"url(#sunlight)",style:{mixBlendMode:"lighter",pointerEvents:"none"}}),(0,y.jsx)("ellipse",{cx:E,cy:a/2,rx:.18*t,ry:.45*a,fill:"url(#movingSun)",style:{mixBlendMode:"multiply",pointerEvents:"none",opacity:.55,filter:"blur(8px)"}})]}),(0,y.jsx)(i.h,{style:{width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:0,pointerEvents:"none"}}),(0,y.jsx)("svg",{viewBox:`0 0 ${t} ${a}`,width:"100%",height:"100%",style:{position:"absolute",left:0,top:0,zIndex:1},children:(()=>{const e=[...m].map((e=>{const{x:l,y:i}=function(e,t){return{x:(t+180)*((arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3)/360),y:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:857)/180*(90-e)}}(e.lat,e.lng,t,a);return{...e,x:l,y:i}})).sort(((e,t)=>e.x-t.x)),l=[],i=R?0:40,s=R?0:24;return e.map(((e,n)=>{let o,r,d,c,x="right";if(R)x=e.x>t/2?"left":"right",r=-N/2,o="right"===x?10:-(F+10),e.x+o<0&&(o=-e.x),e.x+o+F>t&&(o=t-e.x-F),e.y+r<0&&(r=-e.y),e.y+r+N>a&&(r=a-e.y-N),d=o+("right"===x?0:F),c=r+N/2;else{let a=i,n=!0;for(;n;){r=-(a+U+N+8),o=-F/2;const t={x1:e.x+o,x2:e.x+o+F,y1:e.y+r,y2:e.y+r+N};n=l.some((e=>!(t.x2<e.x1||t.x1>e.x2||t.y2<e.y1||t.y1>e.y2))),n&&(a+=s)}l.push({x1:e.x+o,x2:e.x+o+F,y1:e.y+r,y2:e.y+r+N}),e.x+o<0&&(o=-e.x),e.x+o+F>t&&(o=t-e.x-F),e.y+r<0&&(r=-e.y),d=o+F/2,c=r+N}const h=e.x-15,p=e.y+20;return(0,y.jsxs)("g",{transform:`translate(${h},${p})`,style:{cursor:"pointer"},onClick:()=>(async e=>{j(e),M("2"),W("0"),await z(e,"2","0")})(e),onMouseEnter:()=>I(e.code),onMouseLeave:()=>I(null),tabIndex:0,role:"button","aria-label":`Show prayer times for ${e.name}`,children:[(0,y.jsx)("line",{x1:0,y1:0,x2:d,y2:c,stroke:"#bfa13a",strokeWidth:1.5}),(0,y.jsx)("circle",{r:U,style:{...g,transition:"transform 0.2s, filter 0.2s",transform:C===e.code?"scale(1.25)":"scale(1)",filter:C===e.code?"drop-shadow(0 2px 6px #bfa13a66)":g.filter}}),(0,y.jsxs)("g",{transform:`translate(${o},${r})`,children:[(0,y.jsx)("rect",{width:F,height:N,rx:N/2,fill:"#fff",stroke:"#e0e0e0",strokeWidth:1.5,filter:C===e.code?"drop-shadow(0 2px 8px #bfa13a33)":"drop-shadow(0 2px 8px rgba(0,0,0,0.10))"}),(0,y.jsx)("image",{href:`https://purecatamphetamine.github.io/country-flag-icons/3x2/${e.code}.svg`,x:8,y:(N-_)/2,width:P,height:_,style:{borderRadius:4}}),(0,y.jsx)("text",{x:8+P+(R?5:10),y:N/2+(R?4:6),fontFamily:"IBM Plex Sans, Arial, sans-serif",fontSize:R?13:16,fontWeight:"600",fill:"#222",letterSpacing:"0.01em",alignmentBaseline:"middle",children:e.code})]})]},e.code)}))})()}),(0,y.jsx)(n.A,{open:!!b,onClose:()=>{j(null),A(null)},children:(0,y.jsx)(o.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:2,minWidth:340},children:b&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(r.A,{variant:"h6",gutterBottom:!0,children:[b.name," (",b.capital,")"]}),(0,y.jsxs)(o.A,{sx:{display:"flex",gap:2,mb:2},children:[(0,y.jsxs)(d.A,{size:"small",sx:{minWidth:120},children:[(0,y.jsx)(c.A,{id:"method-label",children:"Method"}),(0,y.jsx)(x.A,{labelId:"method-label",value:k,label:"Method",onChange:async e=>{const t=e.target.value;M(t),b&&await z(b,t,B)},children:[{value:"2",label:"ISNA"},{value:"1",label:"University of Islamic Sciences, Karachi"},{value:"3",label:"Muslim World League"},{value:"4",label:"Umm Al-Qura, Makkah"},{value:"5",label:"Egyptian General Authority"},{value:"7",label:"Institute of Geophysics, University of Tehran"}].map((e=>(0,y.jsx)(h.A,{value:e.value,children:e.label},e.value)))})]}),(0,y.jsxs)(d.A,{size:"small",sx:{minWidth:100},children:[(0,y.jsx)(c.A,{id:"school-label",children:"School"}),(0,y.jsx)(x.A,{labelId:"school-label",value:B,label:"School",onChange:async e=>{const t=e.target.value;W(t),b&&await z(b,k,t)},children:[{value:"0",label:"Shafi"},{value:"1",label:"Hanafi"}].map((e=>(0,y.jsx)(h.A,{value:e.value,children:e.label},e.value)))})]})]}),w?(0,y.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:120},children:(0,y.jsx)(p.A,{})}):v?v.error?(0,y.jsx)(r.A,{color:"error",children:v.error}):(0,y.jsx)(f.P.div,{initial:!1,animate:$?{scale:[1,1.08,1],boxShadow:["0 0 0px #26c6da","0 0 24px #26c6da88","0 0 0px #26c6da"]}:{},transition:{duration:.7,ease:"easeInOut"},children:(0,y.jsx)(o.A,{children:Object.entries(v).map((e=>{let[t,a]=e;return(0,y.jsxs)(r.A,{children:[(0,y.jsxs)("b",{children:[t,":"]})," ",a]},t)}))})}):null]})})})]})})}}}]);
//# sourceMappingURL=878.73f34049.chunk.js.map