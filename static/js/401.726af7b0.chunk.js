"use strict";(self.webpackChunksalat_e_mustaqeem_client=self.webpackChunksalat_e_mustaqeem_client||[]).push([[401],{4401:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Ca});var r=t(5043),n=t(9367),i=t(6240),s=t(6293),l=t(5381),o=t(1637),d=t(5865),u=t(4194),c=t(3336),h=t(8903),m=t(7739),g=t(7392),b=t(2703),p=t(3193),y=t(8356),x=t(9285),f=t(2143),A=t(1906),v=t(1081),j=t(6600),S=t(5316),w=t(8446),k=t(4469),I=t(9704),_=t(2577),z=t(6658),$=t(4448),E=t(5624),C=t(7943),N=t(9611),R=t(4802),T=t(5445),P=t(7155),W=t(4191),q=t(2883),B=t(579);const M=(0,r.createContext)(),O=e=>{let{children:a}=e;const[t,n]=(0,r.useState)((()=>{const e=localStorage.getItem("quranReadingProgress");return e?JSON.parse(e):{readSurahs:{},readAyahs:{},timeSpent:0,lastReadTimestamp:null,overallCompletion:0,currentStreak:0,lastReadDate:null,dailyGoal:5,weeklyGoal:1}}));(0,r.useEffect)((()=>{localStorage.setItem("quranReadingProgress",JSON.stringify(t))}),[t]);const i=(e,a)=>{n((t=>{const r=`${e}`,n=`${e}:${a}`,i={...t.readAyahs,[n]:Date.now()},s={...t.readSurahs};s[r]||(s[r]={totalRead:0,lastRead:Date.now(),ayahsRead:{}}),s[r].totalRead=s[r].totalRead+1,s[r].lastRead=Date.now(),s[r].ayahsRead={...s[r].ayahsRead,[a]:Date.now()};const l=Object.keys(i).length,o=Math.min(100,Math.round(l/6236*100*10)/10),d=(new Date).toDateString(),u=t.lastReadDate;let c=t.currentStreak;return u!==d&&(new Date(u).toDateString()===new Date(Date.now()-864e5).toDateString()?c+=1:c=1),{...t,readSurahs:s,readAyahs:i,overallCompletion:o,lastReadTimestamp:Date.now(),timeSpent:t.timeSpent+10,currentStreak:c,lastReadDate:d}}))};return(0,B.jsx)(M.Provider,{value:{progress:t,markAyahAsRead:i,markAyahsAsRead:e=>{e&&0!==e.length&&e.forEach((e=>{e.surahNumber&&e.numberInSurah&&i(e.surahNumber,e.numberInSurah)}))},isAyahRead:(e,a)=>{const r=`${e}:${a}`;return!!t.readAyahs[r]},resetProgress:()=>{const e={readSurahs:{},readAyahs:{},timeSpent:0,lastReadTimestamp:null,overallCompletion:0,currentStreak:0,lastReadDate:null,dailyGoal:t.dailyGoal,weeklyGoal:t.weeklyGoal};n(e),localStorage.setItem("quranReadingProgress",JSON.stringify(e))},updateGoals:(e,a)=>{n((t=>({...t,dailyGoal:e||t.dailyGoal,weeklyGoal:a||t.weeklyGoal})))},getSurahCompletion:(e,a)=>{const r=`${e}`;if(!t.readSurahs[r])return 0;const n=t.readSurahs[r].totalRead;return Math.min(100,Math.round(n/a*100))},getDailyStats:()=>{const e=(new Date).toDateString();let a=0;return Object.values(t.readAyahs).forEach((t=>{new Date(t).toDateString()===e&&a++})),{ayahsReadToday:a,dailyGoalProgress:Math.min(100,Math.round(a/t.dailyGoal*100)),currentStreak:t.currentStreak}}},children:a})};var F=t(4109),D=t(9336),L=t(4669),J=t(4056),H=t(7629),Q=t(4605),G=t(4598),V=t(8492),U=t(4256),K=t(6170),X=t(4764),Y=t(6472),Z=t(7260),ee=t(2505),ae=t(6164);const te=class{constructor(e){Object.assign(this,e)}static generateAudioUrl(e,a,t){return`${String(e).padStart(3,"0")}_${String(a).padStart(3,"0")}_${String(t).padStart(3,"0")}.mp3`}};const re=class{constructor(e){if(this.number=e.number,this.text=e.text,this.numberInSurah=e.numberInSurah,this.juz=e.juz,this.manzil=e.manzil,this.page=e.page,this.ruku=e.ruku,this.hizbQuarter=e.hizbQuarter,this.sajda=e.sajda||!1,this.translation=e.translation||null,this.tafsir=e.tafsir||null,this.audioUrl=e.audioUrl||null,this.words=[],"string"===typeof e.text&&e.text.trim().startsWith("["))try{const a=JSON.parse(e.text);Array.isArray(a)&&(this.words=a.map((e=>new te(e))))}catch(a){this.words=[]}}};const ne=class{constructor(e){var a;this.number=e.number,this.name=e.name,this.englishName=e.englishName,this.englishNameTranslation=e.englishNameTranslation,this.revelationType=e.revelationType,this.ayahs=(null===(a=e.ayahs)||void 0===a?void 0:a.map((e=>new re(e))))||[]}getAyah(e){return this.ayahs.find((a=>a.numberInSurah===e))}getAyahRange(e,a){return this.ayahs.filter((t=>t.numberInSurah>=e&&t.numberInSurah<=a))}hasBismillah(){return 9!==this.number}};var ie=t(4804);const se=class{constructor(e){var a;this.surahs=(null===(a=e.surahs)||void 0===a?void 0:a.map((e=>new ne(e))))||[],this.edition=new ie.A(e.edition)}getSurah(e){return this.surahs.find((a=>a.number===e))}getSurahByName(e){return this.surahs.find((a=>a.name===e||a.englishName.toLowerCase()===e.toLowerCase()))}getAyah(e){for(const a of this.surahs){const t=a.ayahs.find((a=>a.number===e));if(t)return{surah:a,ayah:t}}return null}isTajweed(){return this.edition.isTajweed()}};const le=new class{constructor(){this.loadedEditions=new Map,this.availableEditions=[{identifier:"quran-tajweed",language:"ar",name:"Tajweed",type:"quran"},{identifier:"en.sahih",language:"en",name:"Sahih International",type:"translation"},{identifier:"ur.ahmed",language:"ur",name:"Ahmed Ali",type:"translation"},{identifier:"ar.muyassar",language:"ar",name:"\u062a\u0641\u0633\u064a\u0631 \u0627\u0644\u0645\u06cc\u0633\u0631",type:"tafsir"},{identifier:"en.tafsir-ibn-kathir",language:"en",name:"Ibn Kathir",type:"tafsir"}]}getAvailableEditions(){return this.availableEditions}async loadEdition(e){if(this.loadedEditions.has(e))return this.loadedEditions.get(e);try{let a;if("quran-tajweed"===e||"quran-kids"===e||"quran-wordbyword-2"===e){const t=await fetch(`/assets/data/quran/${e}.json`);if(!t.ok)throw new Error(`Failed to load Quran edition: ${e}`);a=await t.json()}else{const t=await fetch(`https://api.alquran.cloud/v1/quran/${e}`);if(!t.ok)throw new Error(`Failed to load Quran edition: ${e}`);a=await t.json()}const t=new se(a.data);return this.loadedEditions.set(e,t),t}catch(a){throw console.error("Error loading Quran edition:",a),a}}getAudioUrl(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ar.alafasy",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:128;const n=[64,128,192,320,32,48].includes(r)?r:128;let i;return i="object"===typeof a&&a.number?a.number:this.getGlobalAyahNumber(e,a),`https://cdn.islamic.network/quran/audio/${n}/${t}/${i}.mp3`}getGlobalAyahNumber(e,a){const t=[7,286,200,176,120,165,206,75,129,109,123,111,43,52,99,128,111,110,98,135,112,78,118,64,77,227,93,88,69,60,34,30,73,54,45,83,182,88,75,85,54,53,89,59,37,35,38,29,18,45,60,49,62,55,78,96,29,22,24,13,14,11,11,18,12,12,30,52,52,44,28,28,20,56,40,31,50,40,46,42,29,19,36,25,22,17,19,26,30,20,15,21,11,8,8,19,5,8,8,11,11,8,3,9,5,4,7,3,6,3,5,4,5,6];let r=a;for(let n=0;n<e-1;n++)r+=t[n];return r}getNextAyah(e,a,t){if(!e||!t)return null;const r=e.surahNumber||e.surah,n=t.getSurah(r);if(!n)return null;if("surah"===a){const a=e.numberInSurah+1;return a<=n.ayahs.length?n.getAyah(a):null}const i=e[a];e.number;for(let s=r;s<=114;s++){const n=t.getSurah(s);if(!n)continue;for(let t=s===r?e.numberInSurah+1:1;t<=n.ayahs.length;t++){const e=n.getAyah(t);if(e&&e[a]===i)return e;if(e&&e[a]!==i)return null}}return null}};var oe=t(2234),de=t(5909);const ue="\u0628\u0650\u0633\u0652\u0645\u0650 \u0671\u0644\u0644\u064e\u0651\u0647\u0650 \u0671\u0644\u0631\u064e\u0651\u062d\u0652\u0645\u064e\u0670\u0646\u0650 \u0671\u0644\u0631\u064e\u0651\u062d\u0650\u064a\u0645\u0650",ce=[{value:"ar.abdulbasitmurattal",label:"Abdul Basit",image:"/images/reciters/abdul_basit.svg"},{value:"ar.abdullahbasfar",label:"Abdullah Basfar",image:"/images/reciters/abdullah_basfar.svg"},{value:"ar.abdurrahmaansudais",label:"Abdurrahmaan As-Sudais",image:"/images/reciters/abdurrahmaan_as_sudais.svg"},{value:"ar.abdulsamad",label:"Abdul Samad",image:"/images/reciters/abdul_samad.svg"},{value:"ar.shaatree",label:"Abu Bakr Ash-Shaatree",image:"/images/reciters/shaatree.svg"},{value:"ar.ahmedajamy",label:"Ahmed ibn Ali al-Ajamy",image:"/images/reciters/ahmed_ajamy.svg"},{value:"ar.alafasy",label:"Alafasy",image:"/images/reciters/mishary_rashid_alafasy.svg"},{value:"ar.hanirifai",label:"Hani Rifai",image:"/images/reciters/hani_ar_rifai.svg"},{value:"ar.husary",label:"Husary",image:"/images/reciters/khalil_al_husary.svg"},{value:"ar.husarymujawwad",label:"Husary (Mujawwad)",image:"/images/reciters/husary_mujawwad.svg"},{value:"ar.hudhaify",label:"Hudhaify",image:"/images/reciters/ali_al_hudhaify.svg"},{value:"ar.ibrahimakhbar",label:"Ibrahim Akhdar",image:"/images/reciters/ibrahim_akhbar.svg"},{value:"ar.mahermuaiqly",label:"Maher Al Muaiqly",image:"/images/reciters/maher_al_muaiqly.svg"},{value:"ar.minshawi",label:"Minshawi",image:"/images/reciters/mohamed_siddiq_al_minshawi.svg"},{value:"ar.minshawimujawwad",label:"Minshawy (Mujawwad)",image:"/images/reciters/mohamed_siddiq_al_minshawi.svg"},{value:"ar.muhammadayyoub",label:"Muhammad Ayyoub",image:"/images/reciters/muhammad_ayyoub.svg"},{value:"ar.muhammadjibreel",label:"Muhammad Jibreel",image:"/images/reciters/muhammad_jibreel.svg"},{value:"ar.saoodshuraym",label:"Saood bin Ibraaheem Ash-Shuraym",image:"/images/reciters/saood_shuraym.svg"},{value:"en.walk",label:"Ibrahim Walk",image:"/images/reciters/ibrahim_walk.svg"},{value:"fa.hedayatfarfooladvand",label:"Fooladvand - Hedayatfar",image:"/images/reciters/fooladvand_hedayatfar.svg"},{value:"ar.parhizgar",label:"Parhizgar",image:"/images/reciters/parhizgar.svg"},{value:"ur.khan",label:"Shamshad Ali Khan",image:"/images/reciters/shamshad_ali_khan.svg"},{value:"zh.chinese",label:"Chinese",image:"/images/reciters/chinese.svg"},{value:"fr.leclerc",label:"Youssouf Leclerc",image:"/images/reciters/youssouf_leclerc.svg"},{value:"ar.aymanswoaid",label:"Ayman Sowaid",image:"/images/reciters/ayman_sowaid.svg"},{value:"ru.kuliev-audio",label:"Elmir Kuliev by 1MuslimApp",image:"/images/reciters/elmir_kuliev.svg"},{value:"ru.kuliev-audio-2",label:"Elmir Kuliev 2 by 1MuslimApp",image:"/images/reciters/elmir_kuliev_2.svg"}],he=e=>(0,B.jsx)(oe.c.Option,{...e,children:(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center",p:1},children:[(0,B.jsx)("img",{src:e.data.image,alt:e.data.label,style:{width:48,height:48,borderRadius:"50%",marginRight:16,boxShadow:"0 2px 8px rgba(0,0,0,0.10)"}}),(0,B.jsx)(d.A,{variant:"body1",sx:{fontWeight:500},children:e.data.label})]})}),me=e=>(0,B.jsx)(oe.c.SingleValue,{...e,children:(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)("img",{src:e.data.image,alt:e.data.label,style:{width:32,height:32,borderRadius:"50%",marginRight:10}}),(0,B.jsx)(d.A,{variant:"body2",sx:{fontWeight:500},children:e.data.label})]})}),ge=e=>{let{open:a,onClose:t}=e;const{settings:n,updateSetting:i,resetSettings:s,increaseFontSize:l,decreaseFontSize:o,quranEditions:u}=(0,q.ce)(),[m,v]=r.useState(0),j="quran-settings-title",S=u.filter((e=>"quran"===e.type)),w=u.filter((e=>"translation"===e.type)),k=u.filter((e=>"tafsir"===e.type)),I=Object.values(w.reduce(((e,a)=>(e[a.language]||(e[a.language]={label:a.language,options:[]}),e[a.language].options.push({value:a.identifier,label:a.name}),e)),{}));return(0,B.jsx)(F.Ay,{anchor:"right",open:a,onClose:t,"aria-labelledby":j,children:(0,B.jsxs)(b.A,{sx:{width:{xs:"100vw",sm:400},maxWidth:"100vw",p:3},children:[(0,B.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,B.jsx)(d.A,{variant:"h6",id:j,children:"Quran Settings"})," ",(0,B.jsxs)(g.A,{onClick:t,edge:"end","aria-label":"Close settings panel",children:[" ",(0,B.jsx)(R.A,{})]})]}),(0,B.jsx)(D.A,{sx:{mb:3}}),(0,B.jsxs)(L.A,{value:m,onChange:(e,a)=>{v(a)},variant:"fullWidth",sx:{mb:3},"aria-label":"Settings categories",children:[(0,B.jsx)(J.A,{icon:(0,B.jsx)(X.A,{}),label:"Font",id:"settings-tab-font","aria-controls":"settings-tabpanel-font"}),(0,B.jsx)(J.A,{icon:(0,B.jsx)(Y.A,{}),label:"Translation",id:"settings-tab-translation","aria-controls":"settings-tabpanel-translation"}),(0,B.jsx)(J.A,{icon:(0,B.jsx)(T.A,{}),label:"Audio",id:"settings-tab-audio","aria-controls":"settings-tabpanel-audio"}),(0,B.jsx)(J.A,{icon:(0,B.jsx)(Z.A,{}),label:"Display",id:"settings-tab-display","aria-controls":"settings-tabpanel-display"})]}),(0,B.jsx)(b.A,{role:"tabpanel",hidden:0!==m,id:"settings-tabpanel-font","aria-labelledby":"settings-tab-font",children:0===m&&(0,B.jsxs)(b.A,{children:[(0,B.jsx)(d.A,{variant:"subtitle2",gutterBottom:!0,id:"arabic-font-label",children:"Arabic Font"}),(0,B.jsxs)(p.A,{fullWidth:!0,margin:"normal",children:[(0,B.jsx)(y.A,{id:"quran-edition-label",children:"Quran Edition"}),(0,B.jsx)(x.A,{labelId:"quran-edition-label",value:n.quranEdition,onChange:e=>i("quranEdition",e.target.value),label:"Quran Edition",children:S.map((e=>(0,B.jsx)(f.A,{value:e.identifier,children:e.name},e.identifier)))})]}),(0,B.jsxs)(b.A,{sx:{mb:3},role:"radiogroup","aria-labelledby":"arabic-font-label",children:[" ",(0,B.jsx)(h.Ay,{container:!0,spacing:1,children:q.HV.map((e=>(0,B.jsx)(h.Ay,{item:!0,xs:12,sm:6,children:(0,B.jsxs)(c.A,{role:"radio","aria-checked":n.fontFamily===e.family,tabIndex:n.fontFamily===e.family?0:-1,onClick:()=>i("fontFamily",e.family),onKeyPress:a=>("Enter"===a.key||" "===a.key)&&i("fontFamily",e.family),sx:{p:2,textAlign:"center",cursor:"pointer",border:n.fontFamily===e.family?"2px solid":"1px solid",borderColor:n.fontFamily===e.family?"primary.main":"divider",transition:"all 0.2s","&:hover":{borderColor:"primary.main",boxShadow:1}},children:[(0,B.jsx)(d.A,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:e.name}),(0,B.jsx)(d.A,{sx:{fontFamily:e.family,fontSize:"1.2rem",direction:"rtl"},children:ue})]})},e.name)))})]}),(0,B.jsxs)(d.A,{variant:"subtitle2",sx:{mt:3,mb:1},id:"font-size-label",children:["Font Size: ",n.fontSize,"px"]}),(0,B.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,B.jsx)(g.A,{onClick:o,disabled:n.fontSize<=q.v0,color:"primary","aria-label":"Decrease font size",children:(0,B.jsx)(ae.A,{})}),(0,B.jsx)(H.Ay,{value:n.fontSize,onChange:(e,a)=>{i("fontSize",a)},"aria-labelledby":"font-size-label",valueLabelDisplay:"auto",step:q.N$,marks:!0,min:q.v0,max:q.l6,sx:{mx:2}}),(0,B.jsx)(g.A,{onClick:l,disabled:n.fontSize>=q.l6,color:"primary","aria-label":"Increase font size",children:(0,B.jsx)(ee.A,{})})]}),(0,B.jsx)(b.A,{sx:{p:2,my:2,bgcolor:"background.paper",borderRadius:1,fontFamily:n.fontFamily,fontSize:n.fontSize,direction:"rtl",textAlign:"center"},children:ue})]})}),(0,B.jsx)(b.A,{role:"tabpanel",hidden:1!==m,id:"settings-tabpanel-translation","aria-labelledby":"settings-tab-translation",children:1===m&&(0,B.jsxs)(b.A,{children:[(0,B.jsx)(d.A,{variant:"subtitle2",sx:{mb:1},id:"translation-options-label",children:"Translation Options"}),(0,B.jsx)(Q.A,{control:(0,B.jsx)(G.A,{checked:n.showTranslation,onChange:e=>i("showTranslation",e.target.checked),"aria-labelledby":"show-translation-label"}),label:"Show Translation",id:"show-translation-label"}),(0,B.jsx)(Q.A,{control:(0,B.jsx)(G.A,{checked:n.showTransliteration,onChange:e=>i("showTransliteration",e.target.checked),disabled:!n.showTranslation,"aria-labelledby":"show-transliteration-label"}),label:"Show Transliteration",id:"show-transliteration-label"}),n.showTranslation&&(0,B.jsx)(b.A,{sx:{my:2},children:(0,B.jsx)(de.Ay,{inputId:"translation-select",classNamePrefix:"react-select",options:I,value:(()=>{const e=w.find((e=>e.identifier===n.translationId));return e?{value:e.identifier,label:e.name}:null})(),onChange:e=>i("translationId",e?e.value:null),placeholder:"Select translation...",isClearable:!0})}),(0,B.jsx)(D.A,{sx:{my:2}}),(0,B.jsx)(d.A,{variant:"subtitle2",sx:{mb:1},id:"tafsir-options-label",children:"Tafsir Options"}),(0,B.jsx)(Q.A,{control:(0,B.jsx)(G.A,{checked:n.showTafsir,onChange:e=>i("showTafsir",e.target.checked),"aria-labelledby":"show-tafsir-label"}),label:"Show Tafsir",id:"show-tafsir-label"}),n.showTafsir&&(0,B.jsxs)(p.A,{fullWidth:!0,margin:"normal",children:[(0,B.jsx)(y.A,{id:"tafsir-label",children:"Tafsir"}),(0,B.jsx)(x.A,{labelId:"tafsir-label",value:n.tafsirId,onChange:e=>i("tafsirId",e.target.value),label:"Tafsir",children:k.map((e=>(0,B.jsxs)(f.A,{value:e.identifier,children:[e.name," (",e.language,")"]},e.identifier)))})]}),(0,B.jsx)(Q.A,{control:(0,B.jsx)(G.A,{checked:n.wordByWord,onChange:e=>i("wordByWord",e.target.checked),"aria-labelledby":"word-by-word-label"}),label:"Word-by-Word Translation",id:"word-by-word-label",sx:{mt:1}})]})}),(0,B.jsx)(b.A,{role:"tabpanel",hidden:2!==m,id:"settings-tabpanel-audio","aria-labelledby":"settings-tab-audio",children:2===m&&(0,B.jsxs)(b.A,{children:[(0,B.jsx)(d.A,{variant:"subtitle2",sx:{mb:1},id:"audio-settings-label",children:"Audio Settings"}),(0,B.jsx)(b.A,{sx:{my:2},children:(0,B.jsx)(de.Ay,{inputId:"reciter-select",classNamePrefix:"react-select",options:ce,components:{Option:he,SingleValue:me},value:ce.find((e=>e.value===n.reciterId))||null,onChange:e=>i("reciterId",e?e.value:null),placeholder:"Select reciter...",isClearable:!0,styles:{control:(e,a)=>({...e,borderRadius:18,boxShadow:a.isFocused?"0 2px 16px rgba(0,0,0,0.10)":"0 2px 8px rgba(0,0,0,0.05)",borderColor:a.isFocused?"#1976d2":e.borderColor,minHeight:56}),option:(e,a)=>({...e,background:a.isSelected?"#e3f2fd":a.isFocused?"#f5faff":"white",color:"#222",borderRadius:12,margin:"2px 4px",boxShadow:a.isFocused?"0 2px 8px rgba(0,0,0,0.07)":void 0})}})}),(0,B.jsx)(Q.A,{control:(0,B.jsx)(G.A,{checked:n.autoPlayAyahs,onChange:e=>i("autoPlayAyahs",e.target.checked),"aria-labelledby":"autoplay-label"}),label:"Auto-play Next Ayah",id:"autoplay-label",sx:{mt:1}})]})}),(0,B.jsx)(b.A,{role:"tabpanel",hidden:3!==m,id:"settings-tabpanel-display","aria-labelledby":"settings-tab-display",children:3===m&&(0,B.jsxs)(b.A,{children:[(0,B.jsx)(d.A,{variant:"subtitle2",sx:{mb:1},id:"display-options-label",children:"Display Options"}),(0,B.jsx)(Q.A,{control:(0,B.jsx)(G.A,{checked:n.showTajweed,onChange:e=>i("showTajweed",e.target.checked),"aria-labelledby":"show-tajweed-label"}),label:"Show Tajweed Colors",id:"show-tajweed-label"}),(0,B.jsx)(Q.A,{control:(0,B.jsx)(G.A,{checked:n.showPageView,onChange:e=>i("showPageView",e.target.checked),"aria-labelledby":"show-page-view-label"}),label:"Show in Page View",id:"show-page-view-label"}),(0,B.jsx)(d.A,{variant:"subtitle2",sx:{mt:2,mb:1},id:"navigation-mode-label",children:"Navigation Mode"}),(0,B.jsxs)(V.A,{"aria-labelledby":"navigation-mode-label",value:n.navigationMode,onChange:e=>i("navigationMode",e.target.value),children:[(0,B.jsx)(Q.A,{value:"page",control:(0,B.jsx)(U.A,{}),label:"Page"}),(0,B.jsx)(Q.A,{value:"surah",control:(0,B.jsx)(U.A,{}),label:"Surah"}),(0,B.jsx)(Q.A,{value:"juz",control:(0,B.jsx)(U.A,{}),label:"Juz"}),(0,B.jsx)(Q.A,{value:"hizb",control:(0,B.jsx)(U.A,{}),label:"Hizb"}),(0,B.jsx)(Q.A,{value:"ruku",control:(0,B.jsx)(U.A,{}),label:"Ruku"}),(0,B.jsx)(Q.A,{value:"manzil",control:(0,B.jsx)(U.A,{}),label:"Manzil"})]})]})}),(0,B.jsx)(b.A,{sx:{mt:3,textAlign:"center"},children:(0,B.jsx)(A.A,{variant:"outlined",color:"secondary",startIcon:(0,B.jsx)(K.A,{}),onClick:s,children:"Reset All Settings"})})]})})};var be=t(7784),pe=t(1787),ye=t(5721),xe=t(8968),fe=t(8734),Ae=t(6360);const ve=e=>{let{surahs:a,selectedSurah:t,onSelectSurah:n}=e;const[i,s]=(0,r.useState)(""),l=a.filter((e=>{const a=i.toLowerCase();return e.englishName.toLowerCase().includes(a)||e.englishNameTranslation.toLowerCase().includes(a)||e.number.toString().includes(a)}));return(0,B.jsx)(c.A,{elevation:3,sx:{borderRadius:2},children:(0,B.jsxs)(b.A,{sx:{p:2},children:[(0,B.jsx)(d.A,{variant:"h6",component:"h2",sx:{mb:2},children:"Surahs"}),(0,B.jsx)(be.A,{fullWidth:!0,size:"small",placeholder:"Search Surah",value:i,onChange:e=>s(e.target.value),InputProps:{startAdornment:(0,B.jsx)(pe.A,{position:"start",children:(0,B.jsx)(Ae.A,{})})},sx:{mb:2}}),(0,B.jsx)(D.A,{}),(0,B.jsx)(ye.A,{sx:{maxHeight:"calc(100vh - 220px)",overflow:"auto",pt:0},dense:!0,children:l.map((e=>(0,B.jsx)(xe.A,{selected:t===e.number,onClick:()=>n(e.number),children:(0,B.jsx)(fe.A,{primary:(0,B.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,B.jsxs)(d.A,{variant:"body2",children:[e.number,". ",e.englishName]}),(0,B.jsx)(d.A,{variant:"body2",sx:{fontFamily:"Scheherazade, serif",fontSize:"1.1rem"},children:e.name.split(" ")[1]||e.name})]}),secondary:e.englishNameTranslation})},e.number)))})]})})};var je=t(5857),Se=t(3845),we=t(2530),ke=t(3012),Ie=t(2468),_e=t(8203),ze=t(9352),$e=t(2890),Ee=t(1338),Ce=t(2308),Ne=t(9355);const Re="quran-progress-read-ayahs",Te="quran-progress-last-position",Pe="quran-progress-reading-streak",We="quran-progress-goals",qe=114,Be=6236;const Me=new class{constructor(){this._initializeStorage()}_initializeStorage(){if(localStorage.getItem(Re)||localStorage.setItem(Re,JSON.stringify({})),!localStorage.getItem(Pe)){const e={currentStreak:0,longestStreak:0,lastReadDate:null,history:[]};localStorage.setItem(Pe,JSON.stringify(e))}if(!localStorage.getItem(We)){const e={dailyAyahs:20,completionTarget:null};localStorage.setItem(We,JSON.stringify(e))}}markAsRead(e,a){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this._isValidSurah(e)||!this._isValidAyah(e,a))return console.error("Invalid surah or ayah number"),!1;try{const r=JSON.parse(localStorage.getItem(Re))||{};r[e]||(r[e]={});const n=(new Date).toISOString();return r[e][a]={read:t,timestamp:n},localStorage.setItem(Re,JSON.stringify(r)),this.updateLastReadPosition(e,a),this._updateReadingStreak(),window.dispatchEvent(new Event("storage")),!0}catch(r){return console.error("Error marking ayah as read:",r),!1}}markRangeAsRead(e,a,t,r){(e>t||e===t&&a>r)&&([e,a,t,r]=[t,r,e,a]);try{const n=JSON.parse(localStorage.getItem(Re))||{},i=(new Date).toISOString();for(let s=e;s<=t;s++){n[s]||(n[s]={});const l=s===e?a:1,o=s===t?r:this._getSurahAyahCount(s);for(let e=l;e<=o;e++)n[s][e]={read:!0,timestamp:i}}return localStorage.setItem(Re,JSON.stringify(n)),this.updateLastReadPosition(t,r),this._updateReadingStreak(),!0}catch(n){return console.error("Error marking ayah range as read:",n),!1}}updateLastReadPosition(e,a){if(!this._isValidSurah(e)||!this._isValidAyah(e,a))return console.error("Invalid surah or ayah number"),!1;try{const t={surah:e,ayah:a,timestamp:(new Date).toISOString()};return localStorage.setItem(Te,JSON.stringify(t)),!0}catch(t){return console.error("Error updating last read position:",t),!1}}getLastReadPosition(){try{const e=localStorage.getItem(Te);return e?JSON.parse(e):null}catch(e){return console.error("Error getting last read position:",e),null}}isAyahRead(e,a){try{const t=JSON.parse(localStorage.getItem(Re))||{};return!!(t[e]&&t[e][a]&&t[e][a].read)}catch(t){return console.error("Error checking if ayah is read:",t),!1}}getAyahReadTimestamp(e,a){try{const t=JSON.parse(localStorage.getItem(Re))||{};return t[e]&&t[e][a]&&t[e][a].read?t[e][a].timestamp:null}catch(t){return console.error("Error getting ayah read timestamp:",t),null}}getOverallProgress(){try{const e=JSON.parse(localStorage.getItem(Re))||{};let a=0;Object.keys(e).forEach((t=>{Object.keys(e[t]).forEach((r=>{e[t][r].read&&a++}))}));const t=Math.round(a/Be*100);return{completed:a,total:Be,percentage:t}}catch(e){return console.error("Error calculating overall progress:",e),{completed:0,total:Be,percentage:0}}}getSurahProgress(e){if(!this._isValidSurah(e))return console.error("Invalid surah number"),{completed:0,total:0,percentage:0};try{const a=JSON.parse(localStorage.getItem(Re))||{},t=this._getSurahAyahCount(e);let r=0;a[e]&&Object.keys(a[e]).forEach((t=>{a[e][t].read&&r++}));const n=t>0?Math.round(r/t*100):0;return{completed:r,total:t,percentage:n}}catch(a){return console.error("Error calculating surah progress:",a),{completed:0,total:this._getSurahAyahCount(e),percentage:0}}}getJuzProgress(e){return e<1||e>30?(console.error("Invalid juz number"),{completed:0,total:0,percentage:0}):{completed:0,total:0,percentage:0}}resetProgress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(null!==e){if(!this._isValidSurah(e))return console.error("Invalid surah number"),!1;const a=JSON.parse(localStorage.getItem(Re))||{};delete a[e],localStorage.setItem(Re,JSON.stringify(a))}else{localStorage.setItem(Re,JSON.stringify({})),localStorage.removeItem(Te);const e={currentStreak:0,longestStreak:0,lastReadDate:null,history:[]};localStorage.setItem(Pe,JSON.stringify(e)),window.dispatchEvent(new Event("storage"))}return!0}catch(a){return console.error("Error resetting progress:",a),!1}}getReadingStreak(){try{const e=localStorage.getItem(Pe);return e?JSON.parse(e):null}catch(e){return console.error("Error getting reading streak:",e),null}}setReadingGoals(e){try{const a={...JSON.parse(localStorage.getItem(We))||{},...e};return localStorage.setItem(We,JSON.stringify(a)),!0}catch(a){return console.error("Error setting reading goals:",a),!1}}getReadingGoals(){try{const e=localStorage.getItem(We);return e?JSON.parse(e):null}catch(e){return console.error("Error getting reading goals:",e),null}}getDailyProgress(){try{const e=this.getReadingGoals();if(!e||!e.dailyAyahs)return null;const a=(new Date).toISOString().split("T")[0],t=JSON.parse(localStorage.getItem(Re))||{};let r=0;Object.keys(t).forEach((e=>{Object.keys(t[e]).forEach((n=>{const i=t[e][n].timestamp;i&&i.startsWith(a)&&r++}))}));const n=Math.min(100,Math.round(r/e.dailyAyahs*100));return{completed:r,target:e.dailyAyahs,percentage:n,remainingToday:Math.max(0,e.dailyAyahs-r)}}catch(e){return console.error("Error calculating daily progress:",e),null}}exportProgressData(){try{return{readAyahs:JSON.parse(localStorage.getItem(Re)||"{}"),lastPosition:JSON.parse(localStorage.getItem(Te)||"null"),readingStreak:JSON.parse(localStorage.getItem(Pe)||"{}"),goals:JSON.parse(localStorage.getItem(We)||"{}")}}catch(e){return console.error("Error exporting progress data:",e),null}}importProgressData(e){try{return e.readAyahs&&localStorage.setItem(Re,JSON.stringify(e.readAyahs)),e.lastPosition&&localStorage.setItem(Te,JSON.stringify(e.lastPosition)),e.readingStreak&&localStorage.setItem(Pe,JSON.stringify(e.readingStreak)),e.goals&&localStorage.setItem(We,JSON.stringify(e.goals)),!0}catch(a){return console.error("Error importing progress data:",a),!1}}_updateReadingStreak(){try{const e=JSON.parse(localStorage.getItem(Pe))||{currentStreak:0,longestStreak:0,lastReadDate:null,history:[]},a=(new Date).toISOString().split("T")[0];if(e.lastReadDate===a)return;if(e.lastReadDate){new Date(e.lastReadDate);const a=new Date;a.setDate(a.getDate()-1),a.setHours(0,0,0,0);const t=a.toISOString().split("T")[0];e.lastReadDate===t?e.currentStreak++:e.currentStreak=1}else e.currentStreak=1;e.longestStreak=Math.max(e.longestStreak,e.currentStreak),e.lastReadDate=a,e.history.includes(a)||(e.history.push(a),e.history.length>365&&e.history.shift()),localStorage.setItem(Pe,JSON.stringify(e))}catch(e){console.error("Error updating reading streak:",e)}}_isValidSurah(e){return e>=1&&e<=qe}_isValidAyah(e,a){const t=this._getSurahAyahCount(e);return a>=1&&a<=t}_getSurahAyahCount(e){return[7,286,200,176,120,165,206,75,129,109,123,111,43,52,99,128,111,110,98,135,112,78,118,64,77,227,93,88,69,60,34,30,73,54,45,83,182,88,75,85,54,53,89,59,37,35,38,29,18,45,60,49,62,55,78,96,29,22,24,13,14,11,11,18,12,12,30,52,52,44,28,28,20,56,40,31,50,40,46,42,29,19,36,25,22,17,19,26,30,20,15,21,11,8,8,19,5,8,8,11,11,8,3,9,5,4,7,3,6,3,5,4,5,6][e-1]||0}};Object.freeze(Me);const Oe=Me;console.log("WordByWordSpeechBubble module loaded");const Fe=e=>{let{ayah:a,surah:n,selectedWord:i,setSelectedWord:s,settings:l,tajweedQuranData:o}=e;const d=(0,r.useRef)();(0,r.useEffect)((()=>{function e(e){d.current&&!d.current.contains(e.target)&&s&&s(null)}return i&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i,s]),console.log("WordByWordSpeechBubble MOUNTED",{ayah:a,surah:n,settings:l});let u=a&&a.text;if(console.log("WordByWordSpeechBubble typeof ayah.text:",typeof u,u),"string"!==typeof u&&null!=u)try{u=JSON.parse(u),console.log("Parsed ayahText:",u)}catch(c){u=String(u),console.log("Stringified ayahText:",u)}return console.log("Final ayahText for rendering:",u),a?(0,B.jsx)("div",{style:{direction:"rtl",textAlign:"right",fontFamily:l.fontFamily,fontSize:l.fontSize,fontWeight:l.fontWeight||"bold",lineHeight:2,marginBottom:16,wordBreak:"keep-all",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased"},children:a.words&&"quran-wordbyword-2"===l.quranEdition?a.words.map(((e,r)=>{const l=i&&i.surahNumber===n.number&&i.ayahNumber===a.numberInSurah&&i.wordNumberInAyah===e.word_number_in_ayah,o=e.word_arabic_tajweed||e.word_arabic;return(0,B.jsxs)("span",{style:{cursor:"pointer",color:l?"#fff":"#1976d2",background:l?"linear-gradient(90deg,#1976d2 60%,#42a5f5 100%)":"transparent",borderRadius:"8px",padding:"0 8px",marginLeft:6,fontWeight:"bold",transition:"background 0.2s, color 0.2s",display:"inline-block",position:"relative",boxShadow:l?"0 2px 12px 0 rgba(33,150,243,0.15)":"none"},title:e.word_translation||"",onClick:t=>{if(t.stopPropagation(),s({surahNumber:n.number,ayahNumber:a.numberInSurah,wordNumberInAyah:e.word_number_in_ayah}),e.audio&&e.audio.default){let a=0;const r=2,n=i=>{a++;try{const s=new window.Audio(i);s.addEventListener("error",(i=>{if(console.warn(`Audio error (attempt ${a}):`,i),1===a)n(`${e.audio.default}`);else if(2===a)n(`/audio/words/${e.audio.default}`);else if(a>r){console.error("Could not play audio after multiple attempts");const e=t.currentTarget;if(e){const a=e.style.background;e.style.background="rgba(255,0,0,0.1)",setTimeout((()=>{e.style.background=a}),300)}}})),s.play().then((()=>{console.log("Audio started:",i)})).catch((t=>{"NotSupportedError"===t.name||"NotAllowedError"===t.name?console.warn("Audio playback not allowed or supported"):"AbortError"===t.name?console.warn("Audio playback aborted"):(console.warn("Audio play error:",t),a<=r&&n(1===a?`${e.audio.default}`:`/audio/words/${e.audio.default}`))}))}catch(s){console.warn("Audio object error:",s)}};n(`/audio/${e.audio.default}`)}else{console.log("No audio property found for word:",e);const t=n.number,i=a.numberInSurah,s=e.word_number_in_ayah,l=`${String(t).padStart(3,"0")}_${String(i).padStart(3,"0")}_${String(s).padStart(3,"0")}.mp3`;try{new window.Audio(`/audio/${l}`).play().catch((()=>{console.warn("Could not play fallback audio:",l)}))}catch(r){console.warn("Could not create fallback audio object")}}},children:[(0,B.jsx)("span",{dangerouslySetInnerHTML:{__html:t(9355).N(o,!0,!1)}}),l&&(e.word_translation||e.word_transliteration)&&(0,B.jsxs)("span",{ref:d,style:{position:"absolute",bottom:"2.2em",right:"-10px",background:"rgba(255,255,255,0.98)",color:"#222",border:"1.5px solid #1976d2",borderRadius:8,boxShadow:"0 2px 8px 0 rgba(33,150,243,0.12)",padding:"4px 10px",zIndex:20,minWidth:80,maxWidth:180,fontSize:"0.82em",whiteSpace:"pre-line",textAlign:"center",fontFamily:"inherit",animation:"fadeInBubble 0.18s cubic-bezier(.4,0,.2,1)"},children:[(0,B.jsx)("div",{style:{fontWeight:"bold",color:"#1976d2",fontSize:"0.98em",marginBottom:2},children:e.word_translation}),e.word_transliteration&&(0,B.jsx)("div",{style:{fontSize:"0.78em",color:"#555",marginTop:2,fontStyle:"italic"},children:e.word_transliteration}),(0,B.jsx)("span",{style:{position:"absolute",bottom:"-10px",right:24,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:"10px solid #1976d2"}})]})]},e.word_number_in_ayah)})):u&&"string"===typeof u&&u.includes("|")?u.split("$").filter(Boolean).map(((e,t,r)=>{const o=e.split("|"),u=o[0]||"",c=o[1]||"",h=n.number,m=a.numberInSurah,g=t+1,b=`${String(h).padStart(3,"0")}_${String(m).padStart(3,"0")}_${String(g).padStart(3,"0")}.mp3`,p=i&&i.surahNumber===h&&i.ayahNumber===m&&i.wordNumberInAyah===g,y=["#e57373","#64b5f6","#81c784","#ffd54f","#ba68c8","#4db6ac","#ffb74d","#a1887f","#90a4ae","#f06292"];return(0,B.jsxs)("span",{style:{cursor:"pointer",color:p?"#fff":y[(g-1)%y.length],background:p?"linear-gradient(90deg,#1976d2 60%,#42a5f5 100%)":"transparent",borderRadius:"8px",padding:"0 8px",marginLeft:6,fontWeight:"bold",transition:"background 0.2s, color 0.2s",display:"inline-block",position:"relative",boxShadow:p?"0 2px 12px 0 rgba(33,150,243,0.15)":"none",direction:"rtl",fontSize:l.fontSize},title:c||"",onClick:e=>{e.stopPropagation(),s&&s({surahNumber:h,ayahNumber:m,wordNumberInAyah:g});try{new window.Audio(`/audio/${b}`).play().then((()=>{console.log("Audio started:",b)})).catch((e=>{console.log("Audio play error:",e),alert("Audio could not be played. See console for details.")}))}catch(a){console.log("Audio object error:",a),alert("Audio object could not be created. See console for details.")}},children:[u,p&&c&&(0,B.jsxs)("span",{ref:d,style:{position:"absolute",bottom:"2.2em",right:"-10px",background:"rgba(255,255,255,0.98)",color:"#222",border:"1.5px solid #1976d2",borderRadius:8,boxShadow:"0 2px 8px 0 rgba(33,150,243,0.12)",padding:"4px 10px",zIndex:20,minWidth:80,maxWidth:180,fontSize:"0.82em",whiteSpace:"pre-line",textAlign:"center",fontFamily:"inherit",animation:"fadeInBubble 0.18s cubic-bezier(.4,0,.2,1)"},children:[(0,B.jsx)("div",{style:{fontWeight:"bold",color:"#1976d2",fontSize:"0.98em",marginBottom:2},children:c}),(0,B.jsx)("span",{style:{position:"absolute",bottom:"-10px",right:24,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:"10px solid #1976d2"}})]})]},g)})):null}):(console.log("WordByWordSpeechBubble: ayah is undefined or null"),(0,B.jsx)("span",{style:{color:"red"},children:"No ayah data"}))};console.log("WordByWordSpeechBubble module loaded");const De=e=>{let{ayah:a,surah:t,selectedWord:n,setSelectedWord:i,settings:s,tajweedQuranData:l}=e;const o=(0,r.useRef)();(0,r.useEffect)((()=>{function e(e){o.current&&!o.current.contains(e.target)&&i&&i(null)}return n&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[n,i]),console.log("WordByWordSpeechBubble MOUNTED",{ayah:a,surah:t,settings:s});let d=a&&a.text;if(console.log("WordByWordSpeechBubble typeof ayah.text:",typeof d,d),"string"!==typeof d&&null!=d)try{d=JSON.parse(d),console.log("Parsed ayahText:",d)}catch(u){d=String(d),console.log("Stringified ayahText:",d)}return console.log("Final ayahText for rendering:",d),a?(0,B.jsx)("div",{style:{direction:"rtl",textAlign:"right",fontFamily:s.fontFamily,fontSize:s.fontSize,fontWeight:s.fontWeight||"bold",lineHeight:2,marginBottom:16,wordBreak:"keep-all",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased"},children:d&&"string"===typeof d&&d.includes("|")?d.split("$").filter(Boolean).map(((e,r)=>{const l=e.split("|"),d=l[0]||"",u=l[1]||"",c=t.number,h=a.numberInSurah,m=r+1,g=(String(c).padStart(3,"0"),String(h).padStart(3,"0"),String(m).padStart(3,"0"),n&&n.surahNumber===c&&n.ayahNumber===h&&n.wordNumberInAyah===m),b=["#e57373","#64b5f6","#81c784","#ffd54f","#ba68c8","#4db6ac","#ffb74d","#a1887f","#90a4ae","#f06292"];return(0,B.jsxs)("span",{style:{cursor:"pointer",color:g?"#fff":b[(m-1)%b.length],background:g?"linear-gradient(90deg,#1976d2 60%,#42a5f5 100%)":"transparent",borderRadius:"8px",padding:"0 8px",marginLeft:6,fontWeight:"bold",transition:"background 0.2s, color 0.2s",display:"inline-block",position:"relative",boxShadow:g?"0 2px 12px 0 rgba(33,150,243,0.15)":"none",direction:"rtl",fontSize:s.fontSize},title:u||"",onClick:e=>{e.stopPropagation(),i&&i({surahNumber:c,ayahNumber:h,wordNumberInAyah:m});const a=`${String(c).padStart(3,"0")}_${String(h).padStart(3,"0")}_${String(m).padStart(3,"0")}.mp3`;let t=0;const r=n=>{t++;try{const i=new window.Audio(n);i.addEventListener("error",(n=>{if(console.warn(`Audio error (attempt ${t}):`,n),1===t)r(a);else if(2===t)r(`/audio/words/${a}`);else if(3===t)r(`/audio/kids/${a}`);else if(t>3){console.error("Could not play audio after multiple attempts");const a=e.currentTarget;if(a){const e=a.style.color;a.style.color="rgba(255,0,0,0.7)",setTimeout((()=>{a.style.color=e}),300)}}})),i.play().then((()=>{console.log("Audio started:",n);const a=e.currentTarget;a&&(a.style.transform="scale(1.1)",setTimeout((()=>{a.style.transform=""}),200))})).catch((e=>{"NotSupportedError"===e.name||"NotAllowedError"===e.name?console.warn("Audio playback not allowed or supported"):"AbortError"===e.name?console.warn("Audio playback aborted"):(console.warn("Audio play error:",e),t<=3&&r(1===t?a:2===t?`/audio/words/${a}`:`/audio/kids/${a}`))}))}catch(i){console.warn("Audio object error:",i),t<=3&&r(1===t?a:2===t?`/audio/words/${a}`:`/audio/kids/${a}`)}};r(`/audio/${a}`)},children:[d,g&&u&&(0,B.jsxs)("span",{ref:o,style:{position:"absolute",bottom:"2.2em",right:"-10px",background:"rgba(255,255,255,0.98)",color:"#222",border:"1.5px solid #1976d2",borderRadius:8,boxShadow:"0 2px 8px 0 rgba(33,150,243,0.12)",padding:"4px 10px",zIndex:20,minWidth:80,maxWidth:180,fontSize:"0.82em",whiteSpace:"pre-line",textAlign:"center",fontFamily:"inherit",animation:"fadeInBubble 0.18s cubic-bezier(.4,0,.2,1)"},children:[(0,B.jsx)("div",{style:{fontWeight:"bold",color:"#1976d2",fontSize:"0.98em",marginBottom:2},children:u}),(0,B.jsx)("span",{style:{position:"absolute",bottom:"-10px",right:24,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:"10px solid #1976d2"}})]})]},m)})):(0,B.jsx)("span",{style:{color:"red"},children:"No ayah text found for quran-kids."})}):(console.log("WordByWordSpeechBubble: ayah is undefined or null"),(0,B.jsx)("span",{style:{color:"red"},children:"No ayah data"}))},Le=[{surah:7,ayah:206,type:"recommended"},{surah:13,ayah:15,type:"recommended"},{surah:16,ayah:50,type:"recommended"},{surah:17,ayah:109,type:"recommended"},{surah:19,ayah:58,type:"recommended"},{surah:22,ayah:18,type:"recommended"},{surah:22,ayah:77,type:"recommended"},{surah:25,ayah:60,type:"recommended"},{surah:27,ayah:26,type:"recommended"},{surah:32,ayah:15,type:"obligatory"},{surah:38,ayah:24,type:"recommended"},{surah:41,ayah:38,type:"obligatory"},{surah:53,ayah:62,type:"obligatory"},{surah:84,ayah:21,type:"recommended"},{surah:96,ayah:19,type:"obligatory"}],Je=[{surah:1,ayah:7},{surah:2,ayah:7},{surah:2,ayah:16}],He=[{surah:1,ayah:1},{surah:2,ayah:25},{surah:2,ayah:44}],Qe=[{surah:1,ayah:1},{surah:2,ayah:142},{surah:2,ayah:253}],Ge=(e,a,t)=>t.find((t=>t.surah===e&&t.ayah===a))||null,Ve={initial:{scale:1,boxShadow:"0 0 0px rgba(0,0,0,0)"},animate:{scale:[1,1.03,1],boxShadow:["0 0 0px rgba(0,0,0,0)","0 0 18px rgba(25, 118, 210, 0.25)","0 0 0px rgba(0,0,0,0)"],transition:{duration:.8,repeat:1/0,repeatType:"loop",ease:"easeInOut"}},rest:{scale:1,boxShadow:"0 0 0px rgba(0,0,0,0)"}},Ue=(0,r.memo)((e=>{let{ayah:a,surah:t,settings:n,translation:s,tafsir:l,isPlaying:o,isBookmarked:u,onPlay:h,onPause:p,onToggleBookmark:y,onClick:x,selectedWord:f,setSelectedWord:A}=e;const v=(0,i.A)(),[j,S]=(0,r.useState)(!1),[w,_]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!t||!a)return;const e=new IntersectionObserver((e=>{let[a]=e;S(a.isIntersecting)}),{threshold:.7,rootMargin:"0px"}),r=document.getElementById(`ayah-${t.number}-${a.numberInSurah}`);return r&&e.observe(r),()=>{r&&e.unobserve(r)}}),[null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,t,a]),(0,r.useEffect)((()=>{if(j&&!w&&t&&a){const e=setTimeout((()=>{Oe.markAsRead(t.number,a.numberInSurah),_(!0)}),3e3);return()=>clearTimeout(e)}}),[j,w,null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,t,a]),(0,r.useEffect)((()=>{o&&t&&a&&!w&&(Oe.markAsRead(t.number,a.numberInSurah),_(!0))}),[o,null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,w,t,a]),(0,r.useEffect)((()=>{_(!1)}),[null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,t,a]),(0,r.useEffect)((()=>{if(o&&t&&a){const e=setTimeout((()=>{const e=document.getElementById(`ayah-${t.number}-${a.numberInSurah}`);e&&(e.classList.add("highlight-ayah-animation"),e.scrollIntoView({behavior:"smooth",block:"center"}))}),300);return()=>clearTimeout(e)}}),[o,null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,t,a]),(0,r.useEffect)((()=>{if(!o&&t&&a){const e=document.getElementById(`ayah-${t.number}-${a.numberInSurah}`);e&&e.classList.remove("highlight-ayah-animation")}}),[o,null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,t,a]);const z=!(!t||!a)&&Oe.isAyahRead(t.number,a.numberInSurah),$=Ge(null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,Le),E=Ge(null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,Je),C=Ge(null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,He),N=Ge(null===t||void 0===t?void 0:t.number,null===a||void 0===a?void 0:a.numberInSurah,Qe),R=$||E||C||N;return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(Ce.P.div,{variants:Ve,initial:"initial",animate:o?"animate":"rest",style:{borderRadius:12},children:(0,B.jsxs)(c.A,{elevation:1,sx:{p:2,mb:2,borderRadius:2,borderLeft:R?`4px solid ${v.palette.primary.main}`:z?`4px solid ${v.palette.success.light}`:"none",bgcolor:o?(0,je.X4)(v.palette.primary.main,.05):z?(0,je.X4)(v.palette.success.light,.03):"background.paper",transition:"background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease","&:hover":{bgcolor:(0,je.X4)(v.palette.primary.main,.03)},"&.highlight-ayah-animation":{boxShadow:`0 0 15px ${(0,je.X4)(v.palette.primary.main,.5)}`,transform:"scale(1.01)"}},onClick:x,id:`ayah-${null===t||void 0===t?void 0:t.number}-${null===a||void 0===a?void 0:a.numberInSurah}`,className:o?"highlight-ayah-animation":"",children:[(0,B.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(b.A,{sx:{minWidth:"36px",height:"36px",borderRadius:"50%",bgcolor:z?(0,je.X4)(v.palette.success.light,.2):"dark"===v.palette.mode?"grey.800":"grey.100",display:"flex",alignItems:"center",justifyContent:"center",mr:1},"aria-label":`Ayah number ${a.numberInSurah}`,children:(0,B.jsx)(d.A,{variant:"body2",children:a.numberInSurah})}),$&&(0,B.jsx)(m.A,{title:"Sajda "+("obligatory"===$.type?"(Obligatory)":"(Recommended)"),children:(0,B.jsx)(Se.A,{icon:(0,B.jsx)($e.A,{}),label:"Sajda",size:"small",color:"obligatory"===$.type?"secondary":"primary",sx:{mr:1,fontSize:"0.75rem"}})}),E&&(0,B.jsx)(m.A,{title:"Ruku End",children:(0,B.jsx)(Se.A,{icon:(0,B.jsx)(Ie.A,{}),label:"Ruku",size:"small",color:"primary",variant:"outlined",sx:{mr:1,fontSize:"0.75rem"}})}),C&&(0,B.jsx)(m.A,{title:"Hizb Quarter",children:(0,B.jsx)(Se.A,{icon:(0,B.jsx)(_e.A,{}),label:"Hizb",size:"small",color:"primary",variant:"outlined",sx:{mr:1,fontSize:"0.75rem"}})}),N&&(0,B.jsx)(m.A,{title:"Juz Start",children:(0,B.jsx)(Se.A,{icon:(0,B.jsx)(ze.A,{}),label:"Juz",size:"small",color:"primary",variant:"outlined",sx:{mr:1,fontSize:"0.75rem"}})}),z&&(0,B.jsx)(m.A,{title:"You've read this ayah",children:(0,B.jsx)(Se.A,{icon:(0,B.jsx)(Ee.A,{}),label:"Read",size:"small",color:"success",variant:"outlined",sx:{mr:1,fontSize:"0.75rem"}})})]}),(0,B.jsxs)(b.A,{children:[(0,B.jsx)(m.A,{title:o?"Pause":"Play",children:(0,B.jsx)(g.A,{size:"small",onClick:e=>{e.stopPropagation(),o?p():h()},"aria-label":o?`Pause recitation of Surah ${null===t||void 0===t?void 0:t.number} Ayah ${null===a||void 0===a?void 0:a.numberInSurah}`:`Play recitation of Surah ${null===t||void 0===t?void 0:t.number} Ayah ${null===a||void 0===a?void 0:a.numberInSurah}`,"aria-pressed":o,children:o?(0,B.jsx)(I.A,{}):(0,B.jsx)(k.A,{})})}),(0,B.jsx)(m.A,{title:u?"Remove bookmark":"Add bookmark",children:(0,B.jsx)(g.A,{size:"small",onClick:e=>{e.stopPropagation(),y()},"aria-label":u?`Remove bookmark for Surah ${null===t||void 0===t?void 0:t.number} Ayah ${null===a||void 0===a?void 0:a.numberInSurah}`:`Add bookmark for Surah ${null===t||void 0===t?void 0:t.number} Ayah ${null===a||void 0===a?void 0:a.numberInSurah}`,"aria-pressed":u,children:u?(0,B.jsx)(ke.A,{color:"primary"}):(0,B.jsx)(we.A,{})})})]})]}),"quran-wordbyword-2"===n.quranEdition&&a.text?(0,B.jsx)(Fe,{ayah:a,surah:t,selectedWord:f,setSelectedWord:A,settings:n}):"quran-kids"===n.quranEdition&&a.text?(0,B.jsx)(De,{ayah:a,surah:t,selectedWord:f,setSelectedWord:A,settings:n}):(0,B.jsx)(d.A,{variant:"h6",component:"div",lang:"ar",sx:{fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:n.fontWeight||"bold",direction:"rtl",lineHeight:2,mb:2,textAlign:"right",wordBreak:"keep-all",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased"},dangerouslySetInnerHTML:{__html:(0,Ne.N)(a.tajweedText||a.text,n.showTajweed,!1)}}),n.showTranslation&&s&&(0,B.jsxs)(b.A,{sx:{mt:2},children:[(0,B.jsx)(d.A,{variant:"body1",gutterBottom:!0,children:s.text}),n.showTransliteration&&(0,B.jsx)(d.A,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary",mb:1},children:s.transliteration||"Transliteration not available"})]}),n.showTafsir&&l&&(0,B.jsxs)(b.A,{sx:{mt:2,pt:1,borderTop:`1px solid ${v.palette.divider}`},children:[(0,B.jsx)(d.A,{variant:"subtitle2",gutterBottom:!0,children:"Tafsir:"}),(0,B.jsx)(d.A,{variant:"body2",children:l.text})]})]})})})}));var Ke=t(378),Xe=t(4536),Ye=t(7981);const Ze={border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1},ea=e=>{let{navigationMode:a="page",currentPosition:t,maxPosition:n,onNavigationModeChange:s,onPositionChange:l,onGoToSurah:o}=e;(0,i.A)();const[u,c]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),y="navigation-mode-menu",x="jump-to-input",v=()=>{c(null)},j=e=>{s(e),v()},S=()=>{const e=parseInt(h,10);!isNaN(e)&&e>=1&&e<=n&&(l(e),p(""))};return(0,B.jsxs)(b.A,{component:"nav","aria-label":"Quran Navigation Controls",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:1,p:1},children:[(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(A.A,{variant:"outlined",onClick:e=>{c(e.currentTarget)},endIcon:(0,B.jsx)(Xe.A,{}),size:"small",sx:{whiteSpace:"nowrap"},"aria-controls":y,"aria-haspopup":"true","aria-expanded":Boolean(u)?"true":void 0,children:(()=>{switch(a){case"page":return"Page";case"juz":return"Juz";case"hizb":return"Hizb";case"ruku":return"Ruku";case"manzil":return"Manzil";case"surah":return"Surah";default:return"Navigation"}})()}),(0,B.jsxs)(Ke.A,{id:y,anchorEl:u,open:Boolean(u),onClose:v,children:[(0,B.jsx)(f.A,{onClick:()=>j("page"),children:"Page"}),(0,B.jsx)(f.A,{onClick:()=>j("juz"),children:"Juz"}),(0,B.jsx)(f.A,{onClick:()=>j("hizb"),children:"Hizb"}),(0,B.jsx)(f.A,{onClick:()=>j("ruku"),children:"Ruku"}),(0,B.jsx)(f.A,{onClick:()=>j("manzil"),children:"Manzil"}),(0,B.jsx)(f.A,{onClick:()=>j("surah"),children:"Surah"})]}),(0,B.jsxs)(d.A,{variant:"body1",sx:{ml:2,mr:1},"aria-live":"polite",children:[" ",t||1," of ",(()=>{switch(a){case"page":return 604;case"juz":return 30;case"hizb":return 60;case"ruku":return 556;case"manzil":return 7;case"surah":return 114;default:return 1}})()]})]}),(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,B.jsx)(d.A,{component:"label",htmlFor:x,sx:{...Ze},children:`Jump to ${a}`}),(0,B.jsx)(be.A,{id:x,size:"small",placeholder:a&&"string"===typeof a?`Go to ${a}`:"Go to position",value:h,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&S(),InputProps:{endAdornment:(0,B.jsx)(pe.A,{position:"end",children:(0,B.jsx)(g.A,{size:"small",onClick:S,edge:"end","aria-label":`Jump to specified ${a}`,children:(0,B.jsx)(Ae.A,{fontSize:"small"})})})},sx:{width:"120px"}}),(0,B.jsxs)(b.A,{children:[(0,B.jsx)(m.A,{title:"Previous",children:(0,B.jsx)(g.A,{onClick:()=>{t>1&&(l(t-1),window.scrollTo({top:0,behavior:"smooth"}))},disabled:t<=1,size:"small","aria-label":`Go to previous ${a}`,children:(0,B.jsx)($.A,{})})}),(0,B.jsx)(m.A,{title:"Next",children:(0,B.jsx)(g.A,{onClick:()=>{t<n&&(l(t+1),window.scrollTo({top:0,behavior:"smooth"}))},disabled:t>=n,size:"small","aria-label":`Go to next ${a}`,children:(0,B.jsx)(z.A,{})})}),(0,B.jsx)(m.A,{title:"Surah List",children:(0,B.jsx)(g.A,{onClick:()=>o(),size:"small","aria-label":"Open Surah list panel",children:(0,B.jsx)(Ye.A,{})})}),(0,B.jsx)(m.A,{title:"Bookmarks",children:(0,B.jsxs)(g.A,{size:"small","aria-label":"View Bookmarks",disabled:!0,children:[" ",(0,B.jsx)(ke.A,{})]})})]})]})]})};var aa=t(2110),ta=t(2828),ra=t(9810),na=t(5155),ia=t(8397);const sa=e=>{switch(e){case"surah":return Array.from({length:114},((e,a)=>({number:a+1,name:`Surah ${a+1}`})));case"page":return Array.from({length:604},((e,a)=>({number:a+1,name:`Page ${a+1}`})));case"juz":return Array.from({length:30},((e,a)=>({number:a+1,name:`Juz ${a+1}`})));case"hizb":return Array.from({length:60},((e,a)=>({number:a+1,name:`Hizb ${Math.floor(a/4)+1}${a%4>0?"."+a%4:""}`})));case"ruku":return Array.from({length:556},((e,a)=>({number:a+1,name:`Ruku ${a+1}`})));case"manzil":return Array.from({length:7},((e,a)=>({number:a+1,name:`Manzil ${a+1}`})));default:return[]}},la=e=>{switch(e){case"surah":default:return(0,B.jsx)(ra.A,{});case"page":return(0,B.jsx)(na.A,{});case"juz":return(0,B.jsx)(ze.A,{});case"hizb":return(0,B.jsx)(_e.A,{});case"ruku":return(0,B.jsx)(Ie.A,{});case"manzil":return(0,B.jsx)(ia.A,{})}},oa=e=>{let{onNavigate:a}=e;const t=(0,i.A)(),[n,s]=(0,r.useState)("surah"),[l]=(0,r.useState)({surah:sa("surah"),page:sa("page"),juz:sa("juz"),hizb:sa("hizb"),ruku:sa("ruku"),manzil:sa("manzil")});return(0,B.jsxs)(b.A,{sx:{width:"100%"},children:[(0,B.jsx)(b.A,{component:"nav","aria-label":"Quran Navigation Type",sx:{borderBottom:1,borderColor:"divider"},children:(0,B.jsxs)(L.A,{value:n,onChange:(e,a)=>{s(a)},variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,"aria-label":"Select navigation mode",children:[(0,B.jsx)(J.A,{icon:la("surah"),label:"Surah",value:"surah",iconPosition:"start",id:"nav-tab-surah","aria-controls":"nav-tabpanel-surah"}),(0,B.jsx)(J.A,{icon:la("page"),label:"Page",value:"page",iconPosition:"start",id:"nav-tab-page","aria-controls":"nav-tabpanel-page"}),(0,B.jsx)(J.A,{icon:la("juz"),label:"Juz",value:"juz",iconPosition:"start",id:"nav-tab-juz","aria-controls":"nav-tabpanel-juz"}),(0,B.jsx)(J.A,{icon:la("hizb"),label:"Hizb",value:"hizb",iconPosition:"start",id:"nav-tab-hizb","aria-controls":"nav-tabpanel-hizb"}),(0,B.jsx)(J.A,{icon:la("ruku"),label:"Ruku",value:"ruku",iconPosition:"start",id:"nav-tab-ruku","aria-controls":"nav-tabpanel-ruku"}),(0,B.jsx)(J.A,{icon:la("manzil"),label:"Manzil",value:"manzil",iconPosition:"start",id:"nav-tab-manzil","aria-controls":"nav-tabpanel-manzil"})]})}),(0,B.jsx)(b.A,{role:"tabpanel",id:`nav-tabpanel-${n}`,"aria-labelledby":`nav-tab-${n}`,sx:{mt:2,maxHeight:"400px",overflow:"auto",p:1},children:(0,B.jsx)(h.Ay,{container:!0,spacing:1,children:l[n].map((e=>(0,B.jsx)(h.Ay,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,B.jsx)(aa.A,{variant:"outlined",sx:{transition:"all 0.2s ease","&:hover":{boxShadow:2,borderColor:t.palette.primary.main}},children:(0,B.jsxs)(ta.A,{onClick:()=>(e=>{a(n,e.number)})(e),"aria-label":`Navigate to ${n} ${e.number}`,sx:{p:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[(0,B.jsx)(d.A,{variant:"body2",color:"primary",fontWeight:"medium",children:e.number}),(0,B.jsx)(d.A,{variant:"caption",align:"center",children:e.name})]})})},`${n}-${e.number}`)))})})]})},da=()=>{(0,i.A)();const[e,a]=(0,r.useState)(null),[t,n]=(0,r.useState)({x:0,y:0});return(0,r.useEffect)((()=>{const e=e=>{const t=e.target;if(t.hasAttribute("data-tajweed-rule")){const e=t.getAttribute("data-tajweed-rule"),[r,i]=e.split(":"),s=t.getAttribute("data-tajweed-color")||"#000000",l=t.getBoundingClientRect(),o=l.left+window.scrollX+l.width/2,d=l.top+window.scrollY-10;a({title:r,description:i,color:s}),n({x:o,y:d})}};return document.addEventListener("mouseover",(t=>{t.target.hasAttribute("data-tajweed-rule")?e(t):t.target.closest("[data-tajweed-rule]")||a(null)})),()=>{document.removeEventListener("mouseover",e)}}),[]),e?(0,B.jsxs)(c.A,{elevation:4,sx:{position:"absolute",left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -100%)",p:1.5,maxWidth:"300px",zIndex:1500,borderLeft:`4px solid ${e.color}`,animation:"fadeIn 0.2s ease-in-out","@keyframes fadeIn":{from:{opacity:0,transform:"translate(-50%, -90%)"},to:{opacity:1,transform:"translate(-50%, -100%)"}}},children:[(0,B.jsx)(d.A,{variant:"subtitle2",sx:{fontWeight:600,color:e.color},children:e.title}),(0,B.jsx)(d.A,{variant:"body2",children:e.description})]}):null};var ua=t(279),ca=t(6258),ha=t(5429),ma=t(9347),ga=t(3021),ba=t(7412),pa=t(4834),ya=t(9778),xa=t(8625),fa=t(5473),Aa=t(3546);const va=e=>{let{onNavigate:a}=e;const t=(0,i.A)(),[n,s]=(0,r.useState)({completed:0,total:6236,percentage:0}),[l,u]=(0,r.useState)(null),[p,y]=(0,r.useState)(null),[x,f]=(0,r.useState)([]),[w,k]=(0,r.useState)({completed:0,target:20,percentage:0}),[I,_]=(0,r.useState)(""),[z,$]=(0,r.useState)(0),[E,C]=(0,r.useState)(!1),[N,R]=(0,r.useState)(!1),T=(0,r.useRef)(null),P=(t.palette.background.paper,t.palette.divider),W=t.palette.primary.main,q={initial:{scale:0,rotate:-30},animate:{scale:1,rotate:0,transition:{type:"spring",stiffness:200}}},M=(0,r.useCallback)((async()=>{const e=Oe.getOverallProgress();s(e);const a=Oe.getLastReadPosition();u(a);const t=Oe.getReadingStreak()||{currentStreak:0,longestStreak:0,history:[]};y(t);const r=Oe.getDailyProgress()||{completed:0,target:20,percentage:0};if(k(r),null!==t&&void 0!==t&&t.history&&t.history.length>0){const e=t.history.slice(-7).reverse();f(e)}if(null!==a&&void 0!==a&&a.surah)try{const e=(await le.loadEdition("quran-tajweed")).getSurah(a.surah);e&&_(e.englishName)}catch(n){console.error("Error loading quran data for surah name:",n)}}),[]);(0,r.useEffect)((()=>{M();const e=()=>{M()};return window.addEventListener("storage",e),document.addEventListener("quranProgressUpdated",e),()=>{window.removeEventListener("storage",e),document.removeEventListener("quranProgressUpdated",e)}}),[M,z]),(0,r.useEffect)((()=>{const e=localStorage.getItem("quranProgressExpanded");null!==e&&R("true"===e)}),[]),(0,r.useEffect)((()=>{localStorage.setItem("quranProgressExpanded",N)}),[N]);const O=()=>{$((e=>e+1)),M()},F=()=>{R(!N)};return(0,B.jsx)(Ce.P.div,{variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6}}},initial:"hidden",animate:"visible",children:(0,B.jsxs)(b.A,{component:c.A,elevation:2,sx:{borderRadius:2,p:3,mb:3,border:`1px solid ${P}`,boxShadow:t.shadows[2],transition:"all 0.3s ease","&:hover":{boxShadow:t.shadows[6]}},ref:T,children:[(0,B.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(d.A,{variant:"h5",component:"h2",sx:{fontWeight:"bold"},children:"Your Quran Reading Journey"}),(0,B.jsx)(m.A,{title:N?"Collapse details":"Expand for more details",children:(0,B.jsx)(g.A,{onClick:F,size:"small",sx:{ml:1},children:(0,B.jsx)(fa.A,{})})})]}),(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(A.A,{variant:"outlined",color:"error",size:"small",onClick:()=>{C(!0)},startIcon:(0,B.jsx)(xa.A,{}),sx:{mr:1},children:"Reset Progress"}),(0,B.jsx)(m.A,{title:"Refresh progress data",children:(0,B.jsx)(g.A,{onClick:O,size:"small",children:(0,B.jsx)(xa.A,{})})})]})]}),(0,B.jsx)(ua.A,{in:N,timeout:400,children:(0,B.jsxs)(b.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:"flex-start",mt:2,mb:1},children:[(0,B.jsxs)(b.A,{sx:{flex:1,textAlign:"center",mb:{xs:3,md:0}},children:[(0,B.jsx)(Ce.P.div,{variants:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,transition:{type:"spring",stiffness:120}}},initial:"initial",animate:"animate",style:{display:"inline-block"},children:(0,B.jsxs)(b.A,{position:"relative",display:"inline-flex",children:[(0,B.jsx)(o.A,{variant:"determinate",value:n.percentage||0,size:150,thickness:5,sx:{color:W}}),(0,B.jsx)(b.A,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:(0,B.jsxs)(d.A,{variant:"h4",fontWeight:"bold",children:[n.percentage||0,"%"]})})]})},n.percentage),(0,B.jsxs)(d.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:[n.completed||0," of ",n.total||6236," ayahs read"]}),w&&(0,B.jsxs)(b.A,{sx:{mt:1,position:"relative",display:"inline-block"},children:[(0,B.jsx)(Se.A,{label:`Today Goal: ${w.completed}/${w.target} ayahs`,color:w.completed>=w.target?"success":"primary",variant:"outlined",size:"small"}),(0,B.jsx)(Aa.N,{children:w.completed>=w.target&&(0,B.jsx)(Ce.P.div,{variants:q,initial:"initial",animate:"animate",exit:"initial",style:{position:"absolute",top:-30,right:-30},children:(0,B.jsx)(m.A,{title:"Daily goal achieved!",children:(0,B.jsx)(ba.A,{color:"warning",fontSize:"large"})})})})]}),(0,B.jsxs)(b.A,{sx:{mt:2,textAlign:"left"},children:[(0,B.jsx)(d.A,{variant:"subtitle2",fontWeight:"bold",color:"text.secondary",sx:{mb:1},children:"Recent Activity"}),x&&x.length>0?(0,B.jsx)(h.Ay,{container:!0,spacing:1,sx:{mb:1},children:x.map(((e,a)=>(0,B.jsx)(h.Ay,{item:!0,xs:1,children:(0,B.jsx)(m.A,{title:new Date(e).toLocaleDateString(),children:(0,B.jsx)(Ce.P.div,{whileHover:{scale:1.2},style:{height:20,background:0===a?t.palette.success.main:(0,je.X4)(W,1-.1*a),borderRadius:4,boxShadow:0===a?`0 0 8px ${t.palette.success.main}`:void 0,border:0===a?`2px solid ${t.palette.success.light}`:void 0,transition:"all 0.2s"}})})},a)))}):(0,B.jsx)(d.A,{variant:"body2",color:"text.secondary",fontSize:"0.8rem",children:"No recent reading activity"})]})]}),(0,B.jsxs)(b.A,{sx:{flex:2,ml:{md:4}},children:[(0,B.jsxs)(b.A,{sx:{mb:3},children:[(0,B.jsx)(d.A,{variant:"subtitle1",fontWeight:"bold",color:"text.secondary",children:"Last Read Position"}),l?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(d.A,{variant:"h6",fontWeight:"medium",children:["Surah ",l.surah," (",I||"","), Ayah ",l.ayah]}),(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center",mt:.5},children:[(0,B.jsx)(ga.A,{sx:{fontSize:"small",mr:.5,color:"text.secondary"}}),(0,B.jsx)(d.A,{variant:"body2",color:"text.secondary",children:(e=>{if(!e)return"";const a=new Date-new Date(e),t=Math.floor(a/6e4),r=Math.floor(t/60),n=Math.floor(r/24);return n>0?`${n} day${n>1?"s":""} ago`:r>0?`${r} hour${r>1?"s":""} ago`:t>0?`${t} minute${t>1?"s":""} ago`:"just now"})(l.timestamp)})]}),(0,B.jsx)(Ce.P.div,{whileHover:{scale:1.08},whileTap:{scale:.98},style:{display:"inline-block"},children:(0,B.jsx)(A.A,{startIcon:(0,B.jsx)(ya.A,{}),variant:"contained",color:"primary",size:"medium",onClick:()=>{l&&"function"===typeof a&&a("surah",l.surah,l.ayah)},sx:{mt:1,fontWeight:"bold",px:3,py:1.2,fontSize:"1rem",boxShadow:2},children:"Resume Reading"})})]}):(0,B.jsx)(d.A,{variant:"body1",children:"No reading activity yet"})]}),p&&(0,B.jsxs)(b.A,{sx:{mt:2},children:[(0,B.jsx)(d.A,{variant:"subtitle1",fontWeight:"bold",color:"text.secondary",children:"Reading Streak"}),(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsxs)(d.A,{variant:"h6",fontWeight:"medium",sx:{mr:1},children:[p.currentStreak||0," day",1!==(p.currentStreak||0)?"s":""]}),(0,B.jsx)(m.A,{title:`Your longest streak is ${p.longestStreak||0} days!`,children:(0,B.jsx)(Se.A,{icon:(0,B.jsx)(ba.A,{}),label:"Current",size:"small",color:"warning",sx:{fontWeight:"bold"}})}),(0,B.jsx)(Aa.N,{children:p.currentStreak>0&&p.currentStreak===p.longestStreak&&(0,B.jsx)(Ce.P.div,{variants:q,initial:"initial",animate:"animate",exit:"initial",style:{marginLeft:10},children:(0,B.jsx)(m.A,{title:"Longest streak!",children:(0,B.jsx)(ba.A,{color:"success",fontSize:"large"})})})})]}),(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center",mt:.5},children:[(0,B.jsx)(pa.A,{sx:{fontSize:"small",mr:.5,color:"text.secondary"}}),(0,B.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Longest: ",p.longestStreak||0," day",1!==(p.longestStreak||0)?"s":""]})]})]})]})]})}),(0,B.jsx)(ca.A,{in:!N,children:(0,B.jsxs)(ha.A,{onClick:F,sx:{width:"100%",textAlign:"left",borderRadius:2,display:N?"none":"flex",justifyContent:"space-between",alignItems:"center",mt:1,p:1,background:"transparent","&:hover":{background:(0,je.X4)(W,.04)}},focusRipple:!0,children:[(0,B.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:[n.percentage||0,"% complete \u2022",w?` ${w.completed}/${w.target} today \u2022`:"",p?` ${p.currentStreak} day streak`:""]}),(0,B.jsx)(d.A,{variant:"body2",color:"primary",children:"Click to expand"})]})}),(0,B.jsxs)(v.A,{open:E,onClose:()=>C(!1),children:[(0,B.jsx)(j.A,{children:"Reset Progress?"}),(0,B.jsx)(S.A,{children:(0,B.jsx)(d.A,{children:"Are you sure you want to reset all your Quran reading progress? This action cannot be undone."})}),(0,B.jsxs)(ma.A,{children:[(0,B.jsx)(A.A,{onClick:()=>C(!1),children:"Cancel"}),(0,B.jsx)(A.A,{onClick:()=>{Oe.resetProgress(),C(!1),O(),document.dispatchEvent(new Event("quranProgressUpdated"))},color:"error",variant:"contained",children:"Reset All Progress"})]})]})]})})},ja="surah",Sa="page",wa="juz",ka="hizb",Ia="ruku",_a="manzil",za={surah:"surah",page:"page",juz:"juz",hizb:"hizbQuarter",ruku:"ruku",manzil:"manzil"};const $a=[{value:"ar.abdulbasitmurattal",label:"Abdul Basit",image:"/images/reciters/abdul_basit.svg"},{value:"ar.abdullahbasfar",label:"Abdullah Basfar",image:"/images/reciters/abdullah_basfar.svg"},{value:"ar.abdurrahmaansudais",label:"Abdurrahmaan As-Sudais",image:"/images/reciters/abdurrahmaan_as_sudais.svg"},{value:"ar.abdulsamad",label:"Abdul Samad",image:"/images/reciters/abdul_samad.svg"},{value:"ar.shaatree",label:"Abu Bakr Ash-Shaatree",image:"/images/reciters/shaatree.svg"},{value:"ar.ahmedajamy",label:"Ahmed ibn Ali al-Ajamy",image:"/images/reciters/ahmed_ajamy.svg"},{value:"ar.alafasy",label:"Alafasy",image:"/images/reciters/mishary_rashid_alafasy.svg"},{value:"ar.hanirifai",label:"Hani Rifai",image:"/images/reciters/hani_ar_rifai.svg"},{value:"ar.husary",label:"Husary",image:"/images/reciters/khalil_al_husary.svg"},{value:"ar.husarymujawwad",label:"Husary (Mujawwad)",image:"/images/reciters/husary_mujawwad.svg"},{value:"ar.hudhaify",label:"Hudhaify",image:"/images/reciters/ali_al_hudhaify.svg"},{value:"ar.ibrahimakhbar",label:"Ibrahim Akhdar",image:"/images/reciters/ibrahim_akhbar.svg"},{value:"ar.mahermuaiqly",label:"Maher Al Muaiqly",image:"/images/reciters/maher_al_muaiqly.svg"},{value:"ar.minshawi",label:"Minshawi",image:"/images/reciters/mohamed_siddiq_al_minshawi.svg"},{value:"ar.minshawimujawwad",label:"Minshawy (Mujawwad)",image:"/images/reciters/mohamed_siddiq_al_minshawi.svg"},{value:"ar.muhammadayyoub",label:"Muhammad Ayyoub",image:"/images/reciters/muhammad_ayyoub.svg"},{value:"ar.muhammadjibreel",label:"Muhammad Jibreel",image:"/images/reciters/muhammad_jibreel.svg"},{value:"ar.saoodshuraym",label:"Saood bin Ibraaheem Ash-Shuraym",image:"/images/reciters/saood_shuraym.svg"},{value:"en.walk",label:"Ibrahim Walk",image:"/images/reciters/ibrahim_walk.svg"},{value:"fa.hedayatfarfooladvand",label:"Fooladvand - Hedayatfar",image:"/images/reciters/fooladvand_hedayatfar.svg"},{value:"ar.parhizgar",label:"Parhizgar",image:"/images/reciters/parhizgar.svg"},{value:"ur.khan",label:"Shamshad Ali Khan",image:"/images/reciters/shamshad_ali_khan.svg"},{value:"zh.chinese",label:"Chinese",image:"/images/reciters/chinese.svg"},{value:"fr.leclerc",label:"Youssouf Leclerc",image:"/images/reciters/youssouf_leclerc.svg"},{value:"ar.aymanswoaid",label:"Ayman Sowaid",image:"/images/reciters/ayman_sowaid.svg"},{value:"ru.kuliev-audio",label:"Elmir Kuliev by 1MuslimApp",image:"/images/reciters/elmir_kuliev.svg"},{value:"ru.kuliev-audio-2",label:"Elmir Kuliev 2 by 1MuslimApp",image:"/images/reciters/elmir_kuliev_2.svg"}],Ea=()=>{const e=(0,i.A)(),a=(0,s.A)(e.breakpoints.down("md")),{settings:t,updateSetting:M}=(0,q.ce)(),[F,D]=(0,r.useState)(!0),[L,J]=(0,r.useState)(null),[H,Q]=(0,r.useState)(null),[G,V]=(0,r.useState)(null),[U,K]=(0,r.useState)(null),[X,Y]=(0,r.useState)(null),[Z,ee]=(0,r.useState)(1),[ae,te]=(0,r.useState)(!1),[re,ne]=(0,r.useState)(!1),[ie,se]=(0,r.useState)(null),[oe,de]=(0,r.useState)([]),[ue,ce]=(0,r.useState)(t.navigationMode||Sa),[he,me]=(0,r.useState)(1),[be,pe]=(0,r.useState)(!1),[ye,xe]=(0,r.useState)([]),[fe,Ae]=(0,r.useState)(null),[je,Se]=(0,r.useState)(!1),[we,ke]=(0,r.useState)(1),[Ie,_e]=(0,r.useState)(!1),ze=(0,r.useRef)(null),$e=function(){if("undefined"===typeof navigator)return!1;const e=navigator.userAgent;return/^((?!chrome|android).)*safari/i.test(e)}()&&"quran-tajweed"===t.quranEdition;(0,r.useEffect)((()=>{!async function(){try{D(!0);const e=await le.loadEdition(t.quranEdition);Q(e),J(null)}catch(e){console.error("Error loading Quran:",e),J("Failed to load Quran data. Please try again.")}finally{D(!1)}}()}),[t.quranEdition]),(0,r.useEffect)((()=>{!async function(){try{const e=await le.loadEdition("quran-tajweed");Y(e)}catch(e){console.error("Error loading Tajweed Quran:",e),Y(null)}}()}),[]),(0,r.useEffect)((()=>{!async function(){if(t.showTranslation)try{const e=await le.loadEdition(t.translationId);V(e)}catch(e){console.error("Error loading translation:",e),V(null)}else V(null)}()}),[t.showTranslation,t.translationId]),(0,r.useEffect)((()=>{!async function(){if(t.showTafsir)try{const e=await le.loadEdition(t.tafsirId);K(e)}catch(e){console.error("Error loading tafsir:",e),K(null)}else K(null)}()}),[t.showTafsir,t.tafsirId]),(0,r.useEffect)((()=>{console.log("Current Quran Edition:",t.quranEdition),console.log("Current Translation Edition:",t.translationId),console.log("Current Tafsir Edition:",t.tafsirId)}),[t.quranEdition,t.translationId,t.tafsirId]),(0,r.useEffect)((()=>{const e=localStorage.getItem("quranBookmarks");if(e)try{de(JSON.parse(e))}catch(L){console.error("Error loading bookmarks:",L)}}),[]),(0,r.useEffect)((()=>{ce(t.navigationMode||Sa)}),[t.navigationMode]),(0,r.useEffect)((()=>{if(!H||!ue)return;if(ue===ja)return;const e=[],a=za[ue]||ue;let t=he;ue===ka&&(t=Math.ceil(he/8*60)),console.log(`Filtering by ${a} = ${t}`),H.surahs.forEach((r=>{r.ayahs.forEach((n=>{n[a]===t&&e.push({...n,surahNumber:r.number,surahName:r.name,surahEnglishName:r.englishName})}))})),e.sort(((e,a)=>e.number-a.number)),xe(e),e.length>0&&ee(e[0].surahNumber)}),[H,ue,he]),(0,r.useEffect)((()=>{if(!ze.current||!ie||!H)return;const e=()=>{if(t.autoPlayAyahs){let e=null;if(ue===ja){const a=ie.numberInSurah+1,t=H.getSurah(Z);t&&a<=t.ayahs.length&&(e=t.getAyah(a))}else{const a=ye.findIndex((e=>e.number===ie.number||e.numberInSurah===ie.numberInSurah&&e.surahNumber===ie.surahNumber));a>=0&&a<ye.length-1&&(e=ye[a+1])}e?(se(e),Ee(e)):ne(!1)}else ne(!1)};return ze.current.addEventListener("ended",e),()=>{ze.current&&ze.current.removeEventListener("ended",e)}}),[ie,t.autoPlayAyahs,H,Z,ue,ye]),(0,r.useEffect)((()=>{ze.current&&(ze.current.playbackRate=we)}),[we]),(0,r.useEffect)((()=>{if(!ze.current||!ie)return;const e=()=>{Ie&&Ee(ie)};return ze.current.addEventListener("ended",e),()=>{ze.current&&ze.current.removeEventListener("ended",e)}}),[Ie,ie]);const Ee=e=>{if(!ze.current||!e)return;const a=le.getAudioUrl(e.surahNumber||Z,e,t.reciterId,t.audioBitrate||128);se(e),setTimeout((()=>{ze.current.src=a,ze.current.play().then((()=>{ne(!0),setTimeout((()=>{const a=document.getElementById(`ayah-${e.surahNumber||Z}-${e.numberInSurah}`);if(a){const e=a.getBoundingClientRect();e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)||a.scrollIntoView({behavior:"smooth",block:"center"})}}),300)})).catch((a=>{if(console.error("Error playing audio:",a),ne(!1),(t.audioBitrate||128)>64){console.log("Trying lower bitrate...");const a=le.getAudioUrl(e.surahNumber||Z,e,t.reciterId,64);ze.current.src=a,ze.current.play().then((()=>ne(!0))).catch((e=>{console.error("Error playing audio with lower bitrate:",e),ne(!1)}))}}))}),100)},Ce=()=>{ze.current&&(ze.current.pause(),ne(!1))},Re=e=>{se(e),re&&Ce()},Te=e=>{ee(e),se(null),re&&Ce(),ue!==ja&&(ce(ja),M("navigationMode",ja),me(e))},Pe=e=>{M("fontSize",Math.max(16,Math.min(36,t.fontSize+(e?2:-2))))},We=e=>{me(e),ue===ja&&ee(e)},qe=(e,a)=>{const t=`${e}:${a}`;de((e=>{let a;return a=e.includes(t)?e.filter((e=>e!==t)):[...e,t],localStorage.setItem("quranBookmarks",JSON.stringify(a)),a}))},Be=(e,a)=>oe.includes(`${e}:${a}`),Me=()=>{const e=Fe();he<e&&(We(he+1),window.scrollTo({top:0,behavior:"smooth"}))},Oe=()=>{he>1&&We(he-1)},Fe=()=>{switch(ue){case Sa:return 604;case wa:return 30;case ka:return 8;case Ia:return 556;case _a:return 7;default:return 114}},De=null===H||void 0===H?void 0:H.getSurah(Z),Le=ue!==ja?(()=>{if(!ye||0===ye.length)return[];const e=new Map;return ye.forEach((a=>{const t=a.surahNumber;e.has(t)||e.set(t,{number:t,name:a.surahName,englishName:a.surahEnglishName,ayahs:[]}),e.get(t).ayahs.push(a)})),Array.from(e.values())})():[],Je=(()=>{let e="Read & Listen to the Quran - iMuslim Life",a="Read and listen to the Holy Quran online with translations, tafsir, Tajweed highlighting, word-by-word analysis, and audio recitations.";try{if(ue===ja&&De)e=`Read Surah ${De.englishName} (${De.englishNameTranslation}) - Quran | iMuslim Life`,a=`Read Surah ${De.number} (${De.englishName}) of the Holy Quran. Includes ${De.ayahs.length} ayahs. Explore with translation, tafsir, and audio recitation on iMuslim Life.`;else if(ue!==ja){const t=ue.charAt(0).toUpperCase()+ue.slice(1);e=`Read Quran - ${t} ${he} | iMuslim Life`,a=`Explore the Holy Quran by ${t}. Currently viewing ${t} ${he}. Read with translation, tafsir, and listen to recitations on iMuslim Life.`}}catch(t){console.error("Error generating meta tags:",t)}return{title:e,description:a,keywords:"quran, holy quran, read quran, listen quran, quran translation, quran tafsir, tajweed, quran audio, islamic scripture",canonicalUrl:"https://imuslimlife.com/#/quran"}})(),He=(0,r.useMemo)((()=>{var e;if(ue!==ja||!De)return null;const a=(null===(e=le.getEditionDetails(t.translationId))||void 0===e?void 0:e.translator)||"Selected Translator",r={"@context":"https://schema.org","@type":"Chapter","@id":`https://imuslimlife.com/#/quran?surah=${De.number}`,isPartOf:{"@type":"Book",name:"The Holy Quran",author:{"@type":"Organization",name:"Allah (God)"},inLanguage:"ar"},name:`Surah ${De.englishName}`,alternateName:De.name,chapterNumber:De.number,numberOfPages:De.ayahs.length,description:`Surah ${De.englishName} (${De.englishNameTranslation}), chapter ${De.number} of the Holy Quran. Revealed in ${De.revelationType}. Contains ${De.ayahs.length} verses (ayahs).`,inLanguage:"ar",translator:t.showTranslation?{"@type":"Person",name:a}:void 0,url:`https://imuslimlife.com/#/quran?surah=${De.number}`};return JSON.stringify(r)}),[De,ue,t.showTranslation,t.translationId]),Qe=(0,r.useMemo)((()=>{if(!ie||!De)return null;const e=$a.find((e=>e.value===t.reciterId)),a=le.getAudioUrl(ie.surahNumber||Z,ie,t.reciterId,t.audioBitrate||128),r=`https://imuslimlife.com/#/quran?surah=${De.number}`,n=ie.numberInSurah,i={"@context":"https://schema.org","@type":"AudioObject",name:`Recitation of Surah ${De.englishName}, Ayah ${n}${e?` by ${e.label}`:""}`,description:`Audio recitation of verse ${n} from Surah ${De.englishName} (${De.name}) of the Holy Quran. Recited by ${e?e.label:"selected reciter"}.`,contentUrl:a,encodingFormat:"audio/mpeg",inLanguage:"ar",byArtist:e?{"@type":"Person",name:e.label}:void 0,isPartOf:{"@id":r}};return JSON.stringify(i)}),[ie,De,t.reciterId,t.audioBitrate,Z]);return F?(0,B.jsxs)(l.A,{maxWidth:"lg",sx:{py:4,textAlign:"center"},children:[(0,B.jsx)(o.A,{size:60}),(0,B.jsx)(d.A,{variant:"h6",sx:{mt:2},children:"Loading Quran..."})]}):L?(0,B.jsx)(l.A,{maxWidth:"lg",sx:{py:4},children:(0,B.jsx)(u.A,{severity:"error",sx:{mb:3},children:L})}):(0,B.jsxs)(O,{children:[(0,B.jsxs)(n.mg,{children:[(0,B.jsx)("title",{children:Je.title}),(0,B.jsx)("meta",{name:"description",content:Je.description}),(0,B.jsx)("meta",{name:"keywords",content:Je.keywords}),(0,B.jsx)("meta",{property:"og:title",content:Je.title}),(0,B.jsx)("meta",{property:"og:description",content:Je.description}),(0,B.jsx)("link",{rel:"canonical",href:Je.canonicalUrl}),He&&(0,B.jsx)("script",{type:"application/ld+json",children:He}),Qe&&(0,B.jsx)("script",{type:"application/ld+json",children:Qe})]}),(0,B.jsxs)(l.A,{maxWidth:"xl",sx:{py:4},children:[$e&&(0,B.jsx)(u.A,{severity:"info",sx:{mb:3},children:'Tajweed Quran text displays best in Chrome or other browsers. On Safari, Tajweed rendering may not appear correctly. For the best Tajweed experience, please use our App "Salat-e-Mustaqeem" or switch to a supported browser.'}),(0,B.jsx)("audio",{ref:ze,style:{display:"none"}}),(0,B.jsx)(da,{}),(0,B.jsx)(va,{onNavigate:function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ce(e),M("navigationMode",e),e===ja?(ee(a),t&&setTimeout((()=>{const e=document.getElementById(`ayah-${a}-${t}`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}),500)):We(a),pe(!1)}}),(0,B.jsxs)(c.A,{elevation:3,sx:{p:3,mb:3,borderRadius:2},children:[(0,B.jsxs)(h.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,B.jsxs)(h.Ay,{item:!0,xs:12,md:6,children:[(0,B.jsx)(d.A,{variant:"h4",component:"h1",children:"Al-Quran Al-Kareem"}),(0,B.jsx)(d.A,{variant:"subtitle1",color:"text.secondary",children:(()=>{if(ue===ja&&De)return`${De.name} - ${De.englishName}`;return`${ue===ka?"Hizb":ue.charAt(0).toUpperCase()+ue.slice(1)} ${he}`})()})]}),(0,B.jsxs)(h.Ay,{item:!0,xs:12,md:6,sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,B.jsx)(m.A,{title:je?"Hide Audio Controls":"Show Audio Controls",children:(0,B.jsx)(g.A,{onClick:()=>Se((e=>!e)),"aria-label":je?"Hide audio controls":"Show audio controls","aria-pressed":je,children:(0,B.jsx)(T.A,{color:je?"primary":"inherit"})})}),(0,B.jsx)(m.A,{title:"Navigation",children:(0,B.jsx)(g.A,{onClick:()=>pe(!0),"aria-label":"Open Quran navigation panel",children:(0,B.jsx)(N.A,{})})}),(0,B.jsx)(m.A,{title:"Decrease font size",children:(0,B.jsx)(g.A,{onClick:()=>Pe(!1),"aria-label":"Decrease font size",disabled:t.fontSize<=16,children:(0,B.jsx)(C.A,{})})}),(0,B.jsx)(m.A,{title:"Increase font size",children:(0,B.jsx)(g.A,{onClick:()=>Pe(!0),"aria-label":"Increase font size",disabled:t.fontSize>=36,children:(0,B.jsx)(E.A,{})})}),(0,B.jsx)(m.A,{title:re?"Pause recitation":"Play recitation",children:(0,B.jsx)(g.A,{onClick:()=>{if(re)Ce();else if(ie)Ee(ie);else{const e=null===H||void 0===H?void 0:H.getSurah(Z);if(e&&e.ayahs.length>0){const a=e.getAyah(1);se(a),Ee(a)}}},color:re?"primary":"default","aria-label":re?"Pause recitation":"Play recitation","aria-pressed":re,children:re?(0,B.jsx)(I.A,{}):(0,B.jsx)(k.A,{})})}),(0,B.jsx)(m.A,{title:"Settings",children:(0,B.jsx)(g.A,{onClick:()=>te(!0),"aria-label":"Open Quran settings panel",children:(0,B.jsx)(_.A,{})})})]})]}),je&&(0,B.jsxs)(b.A,{sx:{mt:2,display:"flex",flexWrap:"wrap",alignItems:"center",gap:2},children:[(0,B.jsxs)(p.A,{size:"small",sx:{minWidth:120},children:[(0,B.jsx)(y.A,{id:"playback-rate-label",children:"Speed"}),(0,B.jsxs)(x.A,{labelId:"playback-rate-label",value:we,label:"Speed",onChange:e=>ke(Number(e.target.value)),children:[(0,B.jsx)(f.A,{value:.5,children:"0.5x"}),(0,B.jsx)(f.A,{value:1,children:"1x"}),(0,B.jsx)(f.A,{value:1.5,children:"1.5x"}),(0,B.jsx)(f.A,{value:2,children:"2x"})]})]}),(0,B.jsx)(m.A,{title:Ie?"Stop repeating current Ayah":"Repeat current Ayah",children:(0,B.jsx)(g.A,{onClick:()=>_e((e=>!e)),color:Ie?"primary":"default","aria-label":Ie?"Stop repeating current Ayah":"Repeat current Ayah","aria-pressed":Ie,children:Ie?(0,B.jsx)(W.A,{}):(0,B.jsx)(P.A,{})})}),(0,B.jsxs)(p.A,{size:"small",sx:{minWidth:180},children:[(0,B.jsx)(y.A,{id:"reciter-select-label",children:"Reciter"}),(0,B.jsx)(x.A,{labelId:"reciter-select-label",value:t.reciterId,label:"Reciter",onChange:e=>M("reciterId",e.target.value),children:$a.map((e=>(0,B.jsx)(f.A,{value:e.value,children:(0,B.jsxs)(b.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.image&&(0,B.jsx)("img",{src:e.image,alt:e.label,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover"},loading:"lazy"}),(0,B.jsx)("span",{children:e.label})]})},e.value)))})]})]}),(0,B.jsx)(b.A,{sx:{mt:3,pt:2,borderTop:`1px solid ${e.palette.divider}`},children:(0,B.jsx)(ea,{navigationMode:ue,currentPosition:he,maxPosition:Fe(),onNavigationModeChange:e=>{ce(e),M("navigationMode",e),me(1)},onPositionChange:We,onGoToSurah:()=>pe(!0)})})]}),(0,B.jsxs)(h.Ay,{container:!0,spacing:3,children:[!a&&ue===ja&&(0,B.jsx)(h.Ay,{item:!0,xs:12,md:3,children:(0,B.jsx)(ve,{surahs:(null===H||void 0===H?void 0:H.surahs)||[],selectedSurah:Z,onSelectSurah:Te})}),(0,B.jsx)(h.Ay,{item:!0,xs:12,md:ue!==ja||a?12:9,children:ue===ja&&De?(0,B.jsxs)(c.A,{elevation:3,sx:{p:3,borderRadius:2,backgroundColor:e.palette.background.default},children:[(0,B.jsxs)(b.A,{sx:{textAlign:"center",mb:2},children:[(0,B.jsx)(d.A,{variant:"h4",component:"h2",sx:{fontFamily:t.fontFamily,fontSize:1.2*t.fontSize,fontWeight:"bold",mb:1},children:De.name}),(0,B.jsxs)(d.A,{variant:"h5",component:"h3",children:[De.englishName," - ",De.englishNameTranslation]}),(0,B.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:[De.revelationType," \xb7 ",De.ayahs.length," Ayahs"]}),De.hasBismillah&&De.hasBismillah()&&(0,B.jsx)(b.A,{sx:{my:3,py:2,borderTop:`1px solid ${e.palette.divider}`,borderBottom:`1px solid ${e.palette.divider}`},children:(0,B.jsx)(d.A,{variant:"h5",sx:{fontFamily:t.fontFamily,fontSize:1.1*t.fontSize,textAlign:"center",direction:"rtl"},dangerouslySetInnerHTML:{__html:(0,Ne.N)("\u0628\u0650\u0633\u0652\u0645\u0650 [h:1[\u0671]\u0644\u0644\u064e\u0651\u0647\u0650 [h:2[\u0671][l[\u0644]\u0631\u064e\u0651\u062d\u0652\u0645\u064e[n[\u0640\u0670]\u0646\u0650 [h:3[\u0671][l[\u0644]\u0631\u064e\u0651\u062d[p[\u0650\u064a]\u0645\u0650",t.showTajweed)}})})]}),(0,B.jsx)(b.A,{children:De.ayahs.map((e=>{var a,r;return(0,B.jsx)(Ue,{ayah:e,surah:De,settings:t,translation:t.showTranslation?null===G||void 0===G||null===(a=G.getSurah(Z))||void 0===a?void 0:a.getAyah(e.numberInSurah):null,tafsir:t.showTafsir?null===U||void 0===U||null===(r=U.getSurah(Z))||void 0===r?void 0:r.getAyah(e.numberInSurah):null,tajweedQuranData:"quran-wordbyword-2"===t.quranEdition?X:void 0,isPlaying:re&&(null===ie||void 0===ie?void 0:ie.number)===e.number,isBookmarked:Be(Z,e.numberInSurah),onPlay:()=>{se(e),Ee(e)},onPause:Ce,onToggleBookmark:()=>qe(Z,e.numberInSurah),onClick:()=>Re(e),selectedWord:fe,setSelectedWord:Ae},e.numberInSurah)}))}),(0,B.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",mt:3,pt:2,borderTop:`1px solid ${e.palette.divider}`},children:[(0,B.jsx)(A.A,{variant:"outlined",startIcon:(0,B.jsx)($.A,{}),onClick:Oe,disabled:he<=1,children:"Previous Surah"}),(0,B.jsx)(A.A,{variant:"outlined",endIcon:(0,B.jsx)(z.A,{}),onClick:Me,disabled:he>=Fe(),children:"Next Surah"})]})]}):ue!==ja&&Le.length>0?(0,B.jsxs)(c.A,{elevation:3,sx:{p:3,borderRadius:2,backgroundColor:e.palette.background.default},children:[(0,B.jsxs)(b.A,{sx:{textAlign:"center",mb:3},children:[(0,B.jsxs)(d.A,{variant:"h4",component:"h2",sx:{fontFamily:t.fontFamily,mb:1},children:[ue.charAt(0).toUpperCase()+ue.slice(1)," ",he]}),(0,B.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:[ye.length," Ayahs from ",Le.length," Surahs"]})]}),Le.map(((a,r)=>(0,B.jsxs)(b.A,{sx:{mb:4},children:[(0,B.jsxs)(b.A,{sx:{textAlign:"center",mb:2,pb:1,borderBottom:`1px solid ${e.palette.divider}`},children:[(0,B.jsx)(d.A,{variant:"h6",sx:{fontFamily:t.fontFamily,fontWeight:"bold",mb:.5},children:a.name}),(0,B.jsx)(d.A,{variant:"body2",children:a.englishName})]}),9!==a.number&&(0,B.jsx)(b.A,{sx:{my:2,py:1,textAlign:"center"},children:(0,B.jsx)(d.A,{variant:"h6",sx:{fontFamily:t.fontFamily,fontSize:1.1*t.fontSize,direction:"rtl"},dangerouslySetInnerHTML:{__html:(0,Ne.N)("\u0628\u0650\u0633\u0652\u0645\u0650 [h:1[\u0671]\u0644\u0644\u064e\u0651\u0647\u0650 [h:2[\u0671][l[\u0644]\u0631\u064e\u0651\u062d\u0652\u0645\u064e[n[\u0640\u0670]\u0646\u0650 [h:3[\u0671][l[\u0644]\u0631\u064e\u0651\u062d[p[\u0650\u064a]\u0645\u0650",t.showTajweed)}})}),a.ayahs.map((e=>{var r,n;const i=null===H||void 0===H?void 0:H.getSurah(a.number);return(0,B.jsx)(Ue,{ayah:e,surah:i,settings:t,translation:t.showTranslation?null===G||void 0===G||null===(r=G.getSurah(a.number))||void 0===r?void 0:r.getAyah(e.numberInSurah):null,tafsir:t.showTafsir?null===U||void 0===U||null===(n=U.getSurah(a.number))||void 0===n?void 0:n.getAyah(e.numberInSurah):null,tajweedQuranData:"quran-wordbyword-2"===t.quranEdition?X:void 0,isPlaying:re&&(null===ie||void 0===ie?void 0:ie.number)===e.number,isBookmarked:Be(a.number,e.numberInSurah),onPlay:()=>{se(e),Ee(e)},onPause:Ce,onToggleBookmark:()=>qe(a.number,e.numberInSurah),onClick:()=>Re(e),selectedWord:fe,setSelectedWord:Ae},`${a.number}-${e.numberInSurah}`)}))]},`group-${a.number}`))),(0,B.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",mt:3,pt:2,borderTop:`1px solid ${e.palette.divider}`},children:[(0,B.jsxs)(A.A,{variant:"outlined",startIcon:(0,B.jsx)($.A,{}),onClick:Oe,disabled:he<=1,children:["Previous ",ue.charAt(0).toUpperCase()+ue.slice(1)]}),(0,B.jsxs)(A.A,{variant:"outlined",endIcon:(0,B.jsx)(z.A,{}),onClick:Me,disabled:he>=Fe(),children:["Next ",ue.charAt(0).toUpperCase()+ue.slice(1)]})]})]}):(0,B.jsxs)(c.A,{elevation:3,sx:{p:3,borderRadius:2,textAlign:"center"},children:[(0,B.jsx)(d.A,{variant:"h5",component:"h2",children:"No content found"}),(0,B.jsx)(d.A,{variant:"body1",sx:{mt:2},children:ue===ja?"Select a Surah to begin":`No ayahs found for ${ue} ${he}. Try a different ${ue} or navigation mode.`}),a&&ue===ja&&(0,B.jsxs)(p.A,{fullWidth:!0,sx:{mt:2},children:[(0,B.jsx)(y.A,{id:"surah-select-label",children:"Surah"}),(0,B.jsx)(x.A,{labelId:"surah-select-label",value:Z,onChange:e=>Te(e.target.value),label:"Surah",children:null===H||void 0===H?void 0:H.surahs.map((e=>(0,B.jsxs)(f.A,{value:e.number,children:[e.number,". ",e.englishName]},e.number)))})]})]})})]}),(0,B.jsx)(ge,{open:ae,onClose:()=>te(!1)}),(0,B.jsxs)(v.A,{open:be,onClose:()=>pe(!1),maxWidth:"md",fullWidth:!0,children:[(0,B.jsxs)(j.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Quran Navigation",(0,B.jsx)(g.A,{onClick:()=>pe(!1),edge:"end",children:(0,B.jsx)(R.A,{})})]}),(0,B.jsx)(S.A,{children:(0,B.jsx)(oa,{onNavigate:(e,a)=>{ce(e),M("navigationMode",e),We(a),pe(!1)}})})]}),(0,B.jsx)(c.A,{elevation:1,sx:{p:2,mt:4,borderRadius:2,textAlign:"center",backgroundColor:e.palette.background.paper},children:(0,B.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Quran data/audio provided by"," ",(0,B.jsx)(w.A,{href:"https://alquran.cloud",target:"_blank",rel:"noopener noreferrer",children:"AlQuran.cloud"})," ","and"," ",(0,B.jsx)(w.A,{href:"https://islamic.network",target:"_blank",rel:"noopener noreferrer",children:"Islamic Network"}),". Tajweed rendering powered by iMuslim Life's Tajweed API."]})})]})]})},Ca=()=>(0,B.jsx)(O,{children:(0,B.jsx)(Ea,{})})},9355:(e,a,t)=>{t.d(a,{N:()=>v});const r=1,n=2,i=3,s=4,l=5,o=17,d=6,u=7,c=8,h=9,m=10,g=11,b=12,p=13,y=14,x=15,f=16,A={[r]:{identifier:"[h",type:"hamza-wasl",description:"Hamzat ul Wasl",default_css_class:"ham_wasl",html_color:"#AAAAAA"},[n]:{identifier:"[s",type:"silent",description:"Silent",default_css_class:"slnt",html_color:"#AAAAAA"},[i]:{identifier:"[l",type:"laam-shamsiyah",description:"Lam Shamsiyyah",default_css_class:"slnt",html_color:"#AAAAAA"},[s]:{identifier:"[n",type:"madda-normal",description:"Normal Prolongation: 2 Vowels",default_css_class:"madda_normal",html_color:"#537FFF"},[l]:{identifier:"[p",type:"madda-permissible",description:"Permissible Prolongation: 2, 4, 6 Vowels",default_css_class:"madda_permissible",html_color:"#4050FF"},[o]:{identifier:"[m",type:"madda-necesssary",description:"Necessary Prolongation: 6 Vowels",default_css_class:"madda_necessary",html_color:"#000EBC"},[d]:{identifier:"[q",type:"qalaqah",description:"Qalqalah",default_css_class:"qlq",html_color:"#DD0008"},[u]:{identifier:"[o",type:"madda-obligatory",description:"Obligatory Prolongation: 4-5 Vowels",default_css_class:"madda_obligatory",html_color:"#2144C1"},[c]:{identifier:"[c",type:"ikhafa-shafawi",description:"Ikhafa' Shafawi - With Meem",default_css_class:"ikhf_shfw",html_color:"#D500B7"},[f]:{identifier:"[f",type:"ikhafa",description:"Ikhafa'",default_css_class:"ikhf",html_color:"#9400A8"},[h]:{identifier:"[w",type:"idgham-shafawi",description:"Idgham Shafawi - With Meem",default_css_class:"idghm_shfw",html_color:"#58B800"},[m]:{identifier:"[i",type:"iqlab",description:"Iqlab",default_css_class:"iqlb",html_color:"#26BFFD"},[g]:{identifier:"[a",type:"idgham-with-ghunnah",description:"Idgham - With Ghunnah",default_css_class:"idgh_ghn",html_color:"#169777"},[b]:{identifier:"[u",type:"idgham-without-ghunnah",description:"Idgham - Without Ghunnah",default_css_class:"idgh_w_ghn",html_color:"#169200"},[p]:{identifier:"[d",type:"idgham-mutajanisayn",description:"Idgham - Mutajanisayn",default_css_class:"idgh_mus",html_color:"#A1A1A1"},[y]:{identifier:"[b",type:"idgham-mutaqaribayn",description:"Idgham - Mutaqaribayn",default_css_class:"idgh_mut",html_color:"#A1A1A1"},[x]:{identifier:"[g",type:"ghunnah",description:"Ghunnah: 2 Vowels",default_css_class:"ghn",html_color:"#FF7E1E"}};if("undefined"!==typeof document&&!document.getElementById("tajweed-styles")){const e=document.createElement("style");e.id="tajweed-styles",e.textContent="\n.ham_wasl { color: #AAAAAA !important; }\n.slnt { color: #AAAAAA !important; }\n.madda_normal { color: #537FFF !important; }\n.madda_permissible { color: #4050FF !important; }\n.madda_necessary { color: #000EBC !important; }\n.qlq { color: #DD0008 !important; }\n.madda_obligatory { color: #2144C1 !important; }\n.ikhf_shfw { color: #D500B7 !important; }\n.ikhf { color: #9400A8 !important; }\n.idghm_shfw { color: #58B800 !important; }\n.iqlb { color: #26BFFD !important; }\n.idgh_ghn { color: #169777 !important; }\n.idgh_w_ghn { color: #169200 !important; }\n.idgh_mus { color: #A1A1A1 !important; }\n.idgh_mut { color: #A1A1A1 !important; }\n.ghn { color: #FF7E1E !important; }\n\n/* Add cursor style to indicate hoverable tajweed elements */\n[data-tajweed-rule] {\n  cursor: help;\n}\n",document.head.appendChild(e)}function v(e){var a,t,r,n;let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return"";const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]||/iPhone|iPad|iPod/i.test(null===(a=navigator)||void 0===a?void 0:a.userAgent)||/Android/i.test(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&/AppleWebKit/i.test(null===(r=navigator)||void 0===r?void 0:r.userAgent)&&!/Chrome/i.test(null===(n=navigator)||void 0===n?void 0:n.userAgent);if(!i){let a=e.replace(/\[([a-z])(?::\d+)?\[([^\]]*)\]/g,"$2");return a=a.replace(/[\[\]]/g,""),a}let l=function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=e;for(const r in A){const e=A[r];if(!e||!e.identifier)continue;const n=e.identifier,i=e.default_css_class,s=e.html_color;let l=`<span class="${i}" style="color:${s};"`;a&&(l+=` data-tajweed-rule="${e.type.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}:${e.description}" data-tajweed-color="${s}"`),t=t.replaceAll(n,l)}return t=t.replaceAll("[",'">'),t=t.replaceAll("]","</span>"),t=t.replace(/<span[^>]*><\/span>/g,""),t}(e,!0);return s&&(l=function(e){const a="\u200d";let t=e;return t=t.replace(/(<\/span>)(\S)/g,`$1${a}$2`),t=t.replace(/(\S)(<span\s+[^>]*>)/g,`$1${a}$2`),t=t.replace(new RegExp("\u0671\u200d","g"),"\u0671"),t=t.replace(new RegExp(a+a,"g"),a),t=t.replace(new RegExp("\\s\u200d","g")," "),t=t.replace(new RegExp("\u200d\\s","g")," "),t}(l)),l}}}]);
//# sourceMappingURL=401.726af7b0.chunk.js.map